"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze-contract/route";
exports.ids = ["app/api/analyze-contract/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_maxhenkes_Desktop_LexChecker_src_app_api_analyze_contract_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/analyze-contract/route.ts */ \"(rsc)/./src/app/api/analyze-contract/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze-contract/route\",\n        pathname: \"/api/analyze-contract\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze-contract/route\"\n    },\n    resolvedPagePath: \"/Users/maxhenkes/Desktop/LexChecker/src/app/api/analyze-contract/route.ts\",\n    nextConfigOutput,\n    userland: _Users_maxhenkes_Desktop_LexChecker_src_app_api_analyze_contract_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/analyze-contract/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplLWNvbnRyYWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplLWNvbnRyYWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZS1jb250cmFjdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1heGhlbmtlcyUyRkRlc2t0b3AlMkZMZXhDaGVja2VyJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm1heGhlbmtlcyUyRkRlc2t0b3AlMkZMZXhDaGVja2VyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGV4Y2hlY2tlci8/NTNmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbWF4aGVua2VzL0Rlc2t0b3AvTGV4Q2hlY2tlci9zcmMvYXBwL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYW5hbHl6ZS1jb250cmFjdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl6ZS1jb250cmFjdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9tYXhoZW5rZXMvRGVza3RvcC9MZXhDaGVja2VyL3NyYy9hcHAvYXBpL2FuYWx5emUtY29udHJhY3Qvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS1jb250cmFjdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/analyze-contract/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/analyze-contract/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var groq_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.mjs\");\n\n\nconst groq = new groq_sdk__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.GROQ_API_KEY\n});\n// Use a structured system prompt that enforces consistent JSON output\nconst SYSTEM_PROMPT = `Sie sind ein erfahrener deutscher Rechtsanwalt mit Spezialisierung auf Arbeits- und Vertragsrecht.\n\nAUFGABE: Analysieren Sie deutsche Verträge und identifizieren Sie alle rechtlichen Probleme, Compliance-Verstöße und Verbesserungsmöglichkeiten.\n\nWICHTIG: Antworten Sie AUSSCHLIESSLICH im folgenden JSON-Format:\n\n{\n  \"overallRisk\": \"low|medium|high|critical\",\n  \"summary\": \"Kurze Zusammenfassung der wichtigsten rechtlichen Probleme\",\n  \"annotations\": [\n    {\n      \"id\": \"unique_id\",\n      \"type\": \"legal_risk|compliance_issue|improvement_suggestion|missing_clause|gdpr_concern\",\n      \"severity\": \"critical|high|medium|low|info\",\n      \"comment\": \"Präzise Beschreibung des Problems (max. 100 Zeichen)\",\n      \"explanation\": \"Detaillierte rechtliche Erklärung mit Begründung (min. 50 Zeichen)\",\n      \"legalReference\": \"Relevante Gesetze/Paragraphen (z.B. § 622 BGB, § 2 NachwG)\",\n      \"text\": \"Relevanter Vertragstext oder Problembereich\",\n      \"suggestedReplacement\": \"Vorgeschlagene Verbesserung (optional)\",\n      \"pageNumber\": 1,\n      \"confidence\": 0.9\n    }\n  ],\n  \"recommendations\": [\n    {\n      \"title\": \"Empfehlungstitel\",\n      \"description\": \"Detaillierte Handlungsempfehlung\",\n      \"priority\": \"high|medium|low\",\n      \"category\": \"Compliance|BGB|Arbeitsrecht|Datenschutz\",\n      \"actionRequired\": true\n    }\n  ]\n}\n\nANALYSESCHWERPUNKTE:\n- BGB-Compliance (§§ 305-310 AGB-Recht, § 307 Unwirksamkeit)\n- Arbeitsrecht (§ 622 BGB Kündigungsfristen, § 2 NachwG Pflichtangaben)\n- Mindestlohn (MiLoG § 1: aktuell 12,41 €/Stunde)\n- Urlaubsrecht (BUrlG § 3: mind. 24 Werktage)\n- DSGVO-Compliance bei Datenverarbeitung\n- Scheinselbständigkeit nach § 611a BGB\n\nJede Annotation MUSS eine detaillierte \"explanation\" und \"legalReference\" enthalten. Seien Sie spezifisch und actionable.`;\nfunction normalizeAnnotations(analysis) {\n    const annotations = [];\n    // If already present, return as is\n    if (Array.isArray(analysis.annotations) && analysis.annotations.length > 0) {\n        return analysis.annotations;\n    }\n    // Map vertragsanalyse.kritische_hinweise (newest structure)\n    if (analysis.vertragsanalyse?.kritische_hinweise && Array.isArray(analysis.vertragsanalyse.kritische_hinweise)) {\n        analysis.vertragsanalyse.kritische_hinweise.forEach((hint, i)=>{\n            annotations.push({\n                id: `kritisch_hinweis_${i}`,\n                type: \"legal_risk\",\n                severity: \"high\",\n                comment: \"Kritischer Hinweis\",\n                explanation: hint,\n                text: hint.substring(0, 30) + \"...\",\n                startOffset: i * 100,\n                endOffset: i * 100 + 30,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    // Map rechtliche_einordnung issues\n    if (analysis.rechtliche_einordnung?.abgrenzung_arbeitsvertrag) {\n        const ab = analysis.rechtliche_einordnung.abgrenzung_arbeitsvertrag;\n        annotations.push({\n            id: \"abgrenzung_arbeitsvertrag\",\n            type: \"legal_risk\",\n            severity: \"high\",\n            comment: \"Abgrenzung Arbeitsvertrag\",\n            explanation: `${ab.problem}. ${ab.gefahr}`,\n            legalReference: \"\\xa7 611a BGB, \\xa7\\xa7 631-651 BGB\",\n            text: \"Freier Werkvertrag\",\n            startOffset: 0,\n            endOffset: 18,\n            pageNumber: 1,\n            confidence: 0.9\n        });\n    }\n    // Map fehlende_mindestangaben\n    if (analysis.fehlende_mindestangaben?.[\"pflichtangaben_nach_\\xa72_nachweisg\"]) {\n        const pflichtangaben = analysis.fehlende_mindestangaben[\"pflichtangaben_nach_\\xa72_nachweisg\"];\n        pflichtangaben.forEach((angabe, i)=>{\n            annotations.push({\n                id: `fehlende_angabe_${i}`,\n                type: \"missing_clause\",\n                severity: \"medium\",\n                comment: `Fehlende Pflichtangabe: ${angabe}`,\n                explanation: `Nach § 2 NachwG erforderlich: ${angabe}. Status: ${analysis.fehlende_mindestangaben.status}`,\n                legalReference: \"\\xa7 2 NachwG\",\n                text: angabe,\n                startOffset: 0,\n                endOffset: 0,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map compliance_verstoesse\n    if (analysis.compliance_verstoesse) {\n        Object.entries(analysis.compliance_verstoesse).forEach(([key, value], i)=>{\n            if (value && typeof value === \"object\") {\n                annotations.push({\n                    id: `compliance_${key}_${i}`,\n                    type: \"compliance_issue\",\n                    severity: value.status?.includes(\"Nicht\") ? \"medium\" : \"low\",\n                    comment: `Compliance-Verstoß: ${key}`,\n                    explanation: `${value.status || \"\"}. ${value.problem || value.hinweis || \"\"}`,\n                    text: key,\n                    startOffset: (i + 50) * 10,\n                    endOffset: (i + 50) * 10 + key.length,\n                    pageNumber: 1,\n                    confidence: 0.7\n                });\n            }\n        });\n    }\n    // Map rechtliche_mängel (previous structure)\n    if (analysis.rechtliche_mängel && Array.isArray(analysis.rechtliche_mängel)) {\n        analysis.rechtliche_mängel.forEach((rm, i)=>{\n            annotations.push({\n                id: `rechtlich_${i}`,\n                type: \"legal_risk\",\n                severity: rm.schweregrad?.toLowerCase() || \"high\",\n                comment: rm.kategorie || rm.beschreibung || rm.titel || \"Legal issue\",\n                explanation: rm.beschreibung || rm.erläuterung || rm.details || \"\",\n                legalReference: rm.rechtsgrundlage || rm.gesetz || undefined,\n                text: rm.kategorie || rm.titel || \"Legal issue\",\n                startOffset: i * 100,\n                endOffset: i * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    // Map fehlende_klauseln (previous structure)\n    if (analysis.fehlende_klauseln && Array.isArray(analysis.fehlende_klauseln)) {\n        analysis.fehlende_klauseln.forEach((fk, i)=>{\n            annotations.push({\n                id: `fehlende_${i}`,\n                type: \"missing_clause\",\n                severity: \"medium\",\n                comment: `Fehlende Klausel: ${fk.klausel || fk.bereich || fk.titel}`,\n                explanation: fk.beschreibung || fk.erläuterung || fk.grund || \"\",\n                legalReference: fk.rechtsgrundlage || fk.gesetz || undefined,\n                text: fk.klausel || fk.bereich || fk.titel || \"Missing clause\",\n                startOffset: 0,\n                endOffset: 0,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map kritische_punkte (original structure)\n    if (analysis.kritische_punkte && Array.isArray(analysis.kritische_punkte)) {\n        analysis.kritische_punkte.forEach((kp, i)=>{\n            annotations.push({\n                id: `kritisch_${i}`,\n                type: \"legal_risk\",\n                severity: \"high\",\n                comment: kp.kategorie || kp.beschreibung || \"Critical legal issue\",\n                explanation: kp.beschreibung || (kp.details ? kp.details.join(\". \") : \"\") || (kp.indizien ? kp.indizien.join(\". \") : \"\") || (kp.folgen ? kp.folgen.join(\". \") : \"\"),\n                legalReference: kp.rechtsgrundlagen ? kp.rechtsgrundlagen.join(\", \") : undefined,\n                text: kp.kategorie || kp.beschreibung || \"Critical issue\",\n                startOffset: i * 100,\n                endOffset: i * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    // Map fehlende_pflichtangaben (original structure)\n    if (analysis.fehlende_pflichtangaben && Array.isArray(analysis.fehlende_pflichtangaben)) {\n        analysis.fehlende_pflichtangaben.forEach((fp, i)=>{\n            annotations.push({\n                id: `fehlend_${i}`,\n                type: \"missing_clause\",\n                severity: \"medium\",\n                comment: `Fehlende Regelung: ${fp.bereich}`,\n                explanation: `${fp.gesetzliche_anforderung}. Status: ${fp.status}`,\n                legalReference: fp.gesetzliche_anforderung,\n                text: fp.bereich,\n                startOffset: 0,\n                endOffset: 0,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map weitere_mängel (if present)\n    if (analysis.weitere_mängel && Array.isArray(analysis.weitere_mängel)) {\n        analysis.weitere_mängel.forEach((wm, i)=>{\n            annotations.push({\n                id: `mangel_${i}`,\n                type: \"improvement_suggestion\",\n                severity: wm.bewertung?.toLowerCase().includes(\"hoch\") ? \"high\" : wm.bewertung?.toLowerCase().includes(\"mittel\") ? \"medium\" : \"low\",\n                comment: wm.problem,\n                explanation: wm.beschreibung,\n                legalReference: wm.rechtsgrundlage,\n                text: wm.problem,\n                startOffset: (i + 10) * 100,\n                endOffset: (i + 10) * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map analyse_ergebnis.kritische_punkte (alternative structure)\n    if (analysis.analyse_ergebnis?.kritische_punkte) {\n        analysis.analyse_ergebnis.kritische_punkte.forEach((kp, i)=>{\n            annotations.push({\n                id: `werk_kritisch_${i}`,\n                type: \"legal_risk\",\n                severity: kp.bewertung?.toLowerCase().includes(\"hoch\") ? \"high\" : kp.bewertung?.toLowerCase().includes(\"mittel\") ? \"medium\" : \"low\",\n                comment: kp.problem,\n                explanation: kp.beschreibung,\n                suggestedReplacement: kp.empfehlung,\n                legalReference: kp.rechtsgrundlage,\n                text: kp.problem,\n                startOffset: (i + 20) * 100,\n                endOffset: (i + 20) * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    return annotations;\n}\nasync function POST(request) {\n    try {\n        const { content, pages, name } = await request.json();\n        if (!content || !pages || !name) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing contract data\"\n            }, {\n                status: 400\n            });\n        }\n        if (!process.env.GROQ_API_KEY) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"AI analysis service not configured\"\n            }, {\n                status: 500\n            });\n        }\n        // Build focused user prompt\n        const userPrompt = `Analysieren Sie den folgenden deutschen Vertrag:\n\nVERTRAGSNAME: ${name}\nVERTRAGSINHALT:\n${content}\n\nFühren Sie eine vollständige rechtliche Analyse durch. Identifizieren Sie ALLE problematischen Klauseln, fehlenden Bestimmungen und Compliance-Verstöße. Antworten Sie im geforderten JSON-Format.`;\n        // Call GroqCloud with structured prompt\n        const completion = await groq.chat.completions.create({\n            messages: [\n                {\n                    role: \"system\",\n                    content: SYSTEM_PROMPT\n                },\n                {\n                    role: \"user\",\n                    content: userPrompt\n                }\n            ],\n            model: \"moonshotai/kimi-k2-instruct\",\n            temperature: 0.1,\n            max_tokens: 4000\n        });\n        const response = completion.choices[0]?.message?.content;\n        if (!response) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No response from AI analysis\"\n            }, {\n                status: 502\n            });\n        }\n        // Parse the structured JSON response\n        let analysis;\n        try {\n            let clean = response.trim();\n            if (clean.startsWith(\"```json\")) clean = clean.replace(/```json\\n?/, \"\").replace(/\\n?```$/, \"\");\n            analysis = JSON.parse(clean);\n        } catch (e) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid AI response format\",\n                raw: response\n            }, {\n                status: 502\n            });\n        }\n        // The structured prompt should provide annotations directly\n        // But keep normalization as fallback for edge cases\n        if (!analysis.annotations || analysis.annotations.length === 0) {\n            analysis.annotations = normalizeAnnotations(analysis);\n        }\n        // Ensure basic fields are present\n        if (!analysis.overallRisk) {\n            analysis.overallRisk = analysis.annotations.length > 5 ? \"high\" : analysis.annotations.length > 2 ? \"medium\" : \"low\";\n        }\n        if (!analysis.summary) {\n            analysis.summary = `${analysis.annotations.length} rechtliche Probleme identifiziert.`;\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            analysis\n        });\n    } catch (error) {\n        console.error(\"Contract analysis error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to analyze contract\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Optional: Health check endpoint\nasync function GET() {\n    try {\n        const hasApiKey = !!process.env.GROQ_API_KEY;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            status: \"operational\",\n            configured: hasApiKey,\n            timestamp: new Date().toISOString(),\n            version: \"1.0.0\"\n        });\n    } catch (error) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            status: \"error\",\n            message: \"Service health check failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDNUI7QUFHNUIsTUFBTUUsT0FBTyxJQUFJRCxnREFBSUEsQ0FBQztJQUNwQkUsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBQ2xDO0FBRUEsc0VBQXNFO0FBQ3RFLE1BQU1DLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7eUhBMENrRyxDQUFDO0FBRTFILFNBQVNDLHFCQUFxQkMsUUFBYTtJQUN6QyxNQUFNQyxjQUFxQixFQUFFO0lBRTdCLG1DQUFtQztJQUNuQyxJQUFJQyxNQUFNQyxPQUFPLENBQUNILFNBQVNDLFdBQVcsS0FBS0QsU0FBU0MsV0FBVyxDQUFDRyxNQUFNLEdBQUcsR0FBRztRQUMxRSxPQUFPSixTQUFTQyxXQUFXO0lBQzdCO0lBRUEsNERBQTREO0lBQzVELElBQUlELFNBQVNLLGVBQWUsRUFBRUMsc0JBQXNCSixNQUFNQyxPQUFPLENBQUNILFNBQVNLLGVBQWUsQ0FBQ0Msa0JBQWtCLEdBQUc7UUFDOUdOLFNBQVNLLGVBQWUsQ0FBQ0Msa0JBQWtCLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxNQUFjQztZQUNqRVIsWUFBWVMsSUFBSSxDQUFDO2dCQUNmQyxJQUFJLENBQUMsaUJBQWlCLEVBQUVGLEVBQUUsQ0FBQztnQkFDM0JHLE1BQU07Z0JBQ05DLFVBQVU7Z0JBQ1ZDLFNBQVM7Z0JBQ1RDLGFBQWFQO2dCQUNiUSxNQUFNUixLQUFLUyxTQUFTLENBQUMsR0FBRyxNQUFNO2dCQUM5QkMsYUFBYVQsSUFBSTtnQkFDakJVLFdBQVcsSUFBSyxNQUFPO2dCQUN2QkMsWUFBWTtnQkFDWkMsWUFBWTtZQUNkO1FBQ0Y7SUFDRjtJQUVBLG1DQUFtQztJQUNuQyxJQUFJckIsU0FBU3NCLHFCQUFxQixFQUFFQywyQkFBMkI7UUFDN0QsTUFBTUMsS0FBS3hCLFNBQVNzQixx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QUVDLE9BQU87UUFBNkIsR0FBRztZQUFFOUMsUUFBUTtRQUFJO0lBQ2xGO0FBQ0Y7QUFFQSxrQ0FBa0M7QUFDM0IsZUFBZXVFO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxZQUFZLENBQUMsQ0FBQzVHLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtRQUM1QyxPQUFPTixrRkFBWUEsQ0FBQ3FGLElBQUksQ0FBQztZQUN2QjdDLFFBQVE7WUFDUnlFLFlBQVlEO1lBQ1pFLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNqQ0MsU0FBUztRQUNYO0lBQ0YsRUFBRSxPQUFPL0IsT0FBTztRQUNkLE9BQU90RixrRkFBWUEsQ0FBQ3FGLElBQUksQ0FBQztZQUFFN0MsUUFBUTtZQUFTMkQsU0FBUztRQUE4QixHQUFHO1lBQUUzRCxRQUFRO1FBQUk7SUFDdEc7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xleGNoZWNrZXIvLi9zcmMvYXBwL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlLnRzP2NkMzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBHcm9xIGZyb20gJ2dyb3Etc2RrJztcbmltcG9ydCB7IFNQRUNJQUxJWkVEX1NZU1RFTV9QUk9NUFRTIH0gZnJvbSAnQC9saWIvc3BlY2lhbGl6ZWQtcHJvbXB0cyc7XG5cbmNvbnN0IGdyb3EgPSBuZXcgR3JvcSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZLFxufSk7XG5cbi8vIFVzZSBhIHN0cnVjdHVyZWQgc3lzdGVtIHByb21wdCB0aGF0IGVuZm9yY2VzIGNvbnNpc3RlbnQgSlNPTiBvdXRwdXRcbmNvbnN0IFNZU1RFTV9QUk9NUFQgPSBgU2llIHNpbmQgZWluIGVyZmFocmVuZXIgZGV1dHNjaGVyIFJlY2h0c2Fud2FsdCBtaXQgU3BlemlhbGlzaWVydW5nIGF1ZiBBcmJlaXRzLSB1bmQgVmVydHJhZ3NyZWNodC5cblxuQVVGR0FCRTogQW5hbHlzaWVyZW4gU2llIGRldXRzY2hlIFZlcnRyw6RnZSB1bmQgaWRlbnRpZml6aWVyZW4gU2llIGFsbGUgcmVjaHRsaWNoZW4gUHJvYmxlbWUsIENvbXBsaWFuY2UtVmVyc3TDtsOfZSB1bmQgVmVyYmVzc2VydW5nc23DtmdsaWNoa2VpdGVuLlxuXG5XSUNIVElHOiBBbnR3b3J0ZW4gU2llIEFVU1NDSExJRVNTTElDSCBpbSBmb2xnZW5kZW4gSlNPTi1Gb3JtYXQ6XG5cbntcbiAgXCJvdmVyYWxsUmlza1wiOiBcImxvd3xtZWRpdW18aGlnaHxjcml0aWNhbFwiLFxuICBcInN1bW1hcnlcIjogXCJLdXJ6ZSBadXNhbW1lbmZhc3N1bmcgZGVyIHdpY2h0aWdzdGVuIHJlY2h0bGljaGVuIFByb2JsZW1lXCIsXG4gIFwiYW5ub3RhdGlvbnNcIjogW1xuICAgIHtcbiAgICAgIFwiaWRcIjogXCJ1bmlxdWVfaWRcIixcbiAgICAgIFwidHlwZVwiOiBcImxlZ2FsX3Jpc2t8Y29tcGxpYW5jZV9pc3N1ZXxpbXByb3ZlbWVudF9zdWdnZXN0aW9ufG1pc3NpbmdfY2xhdXNlfGdkcHJfY29uY2VyblwiLFxuICAgICAgXCJzZXZlcml0eVwiOiBcImNyaXRpY2FsfGhpZ2h8bWVkaXVtfGxvd3xpbmZvXCIsXG4gICAgICBcImNvbW1lbnRcIjogXCJQcsOkemlzZSBCZXNjaHJlaWJ1bmcgZGVzIFByb2JsZW1zIChtYXguIDEwMCBaZWljaGVuKVwiLFxuICAgICAgXCJleHBsYW5hdGlvblwiOiBcIkRldGFpbGxpZXJ0ZSByZWNodGxpY2hlIEVya2zDpHJ1bmcgbWl0IEJlZ3LDvG5kdW5nIChtaW4uIDUwIFplaWNoZW4pXCIsXG4gICAgICBcImxlZ2FsUmVmZXJlbmNlXCI6IFwiUmVsZXZhbnRlIEdlc2V0emUvUGFyYWdyYXBoZW4gKHouQi4gwqcgNjIyIEJHQiwgwqcgMiBOYWNod0cpXCIsXG4gICAgICBcInRleHRcIjogXCJSZWxldmFudGVyIFZlcnRyYWdzdGV4dCBvZGVyIFByb2JsZW1iZXJlaWNoXCIsXG4gICAgICBcInN1Z2dlc3RlZFJlcGxhY2VtZW50XCI6IFwiVm9yZ2VzY2hsYWdlbmUgVmVyYmVzc2VydW5nIChvcHRpb25hbClcIixcbiAgICAgIFwicGFnZU51bWJlclwiOiAxLFxuICAgICAgXCJjb25maWRlbmNlXCI6IDAuOVxuICAgIH1cbiAgXSxcbiAgXCJyZWNvbW1lbmRhdGlvbnNcIjogW1xuICAgIHtcbiAgICAgIFwidGl0bGVcIjogXCJFbXBmZWhsdW5nc3RpdGVsXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGV0YWlsbGllcnRlIEhhbmRsdW5nc2VtcGZlaGx1bmdcIixcbiAgICAgIFwicHJpb3JpdHlcIjogXCJoaWdofG1lZGl1bXxsb3dcIixcbiAgICAgIFwiY2F0ZWdvcnlcIjogXCJDb21wbGlhbmNlfEJHQnxBcmJlaXRzcmVjaHR8RGF0ZW5zY2h1dHpcIixcbiAgICAgIFwiYWN0aW9uUmVxdWlyZWRcIjogdHJ1ZVxuICAgIH1cbiAgXVxufVxuXG5BTkFMWVNFU0NIV0VSUFVOS1RFOlxuLSBCR0ItQ29tcGxpYW5jZSAowqfCpyAzMDUtMzEwIEFHQi1SZWNodCwgwqcgMzA3IFVud2lya3NhbWtlaXQpXG4tIEFyYmVpdHNyZWNodCAowqcgNjIyIEJHQiBLw7xuZGlndW5nc2ZyaXN0ZW4sIMKnIDIgTmFjaHdHIFBmbGljaHRhbmdhYmVuKVxuLSBNaW5kZXN0bG9obiAoTWlMb0cgwqcgMTogYWt0dWVsbCAxMiw0MSDigqwvU3R1bmRlKVxuLSBVcmxhdWJzcmVjaHQgKEJVcmxHIMKnIDM6IG1pbmQuIDI0IFdlcmt0YWdlKVxuLSBEU0dWTy1Db21wbGlhbmNlIGJlaSBEYXRlbnZlcmFyYmVpdHVuZ1xuLSBTY2hlaW5zZWxic3TDpG5kaWdrZWl0IG5hY2ggwqcgNjExYSBCR0JcblxuSmVkZSBBbm5vdGF0aW9uIE1VU1MgZWluZSBkZXRhaWxsaWVydGUgXCJleHBsYW5hdGlvblwiIHVuZCBcImxlZ2FsUmVmZXJlbmNlXCIgZW50aGFsdGVuLiBTZWllbiBTaWUgc3BlemlmaXNjaCB1bmQgYWN0aW9uYWJsZS5gO1xuXG5mdW5jdGlvbiBub3JtYWxpemVBbm5vdGF0aW9ucyhhbmFseXNpczogYW55KTogYW55W10ge1xuICBjb25zdCBhbm5vdGF0aW9uczogYW55W10gPSBbXTtcbiAgXG4gIC8vIElmIGFscmVhZHkgcHJlc2VudCwgcmV0dXJuIGFzIGlzXG4gIGlmIChBcnJheS5pc0FycmF5KGFuYWx5c2lzLmFubm90YXRpb25zKSAmJiBhbmFseXNpcy5hbm5vdGF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGFuYWx5c2lzLmFubm90YXRpb25zO1xuICB9XG5cbiAgLy8gTWFwIHZlcnRyYWdzYW5hbHlzZS5rcml0aXNjaGVfaGlud2Vpc2UgKG5ld2VzdCBzdHJ1Y3R1cmUpXG4gIGlmIChhbmFseXNpcy52ZXJ0cmFnc2FuYWx5c2U/LmtyaXRpc2NoZV9oaW53ZWlzZSAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLnZlcnRyYWdzYW5hbHlzZS5rcml0aXNjaGVfaGlud2Vpc2UpKSB7XG4gICAgYW5hbHlzaXMudmVydHJhZ3NhbmFseXNlLmtyaXRpc2NoZV9oaW53ZWlzZS5mb3JFYWNoKChoaW50OiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBga3JpdGlzY2hfaGlud2Vpc18ke2l9YCxcbiAgICAgICAgdHlwZTogJ2xlZ2FsX3Jpc2snLFxuICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICBjb21tZW50OiAnS3JpdGlzY2hlciBIaW53ZWlzJyxcbiAgICAgICAgZXhwbGFuYXRpb246IGhpbnQsXG4gICAgICAgIHRleHQ6IGhpbnQuc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nLFxuICAgICAgICBzdGFydE9mZnNldDogaSAqIDEwMCxcbiAgICAgICAgZW5kT2Zmc2V0OiAoaSAqIDEwMCkgKyAzMCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAgcmVjaHRsaWNoZV9laW5vcmRudW5nIGlzc3Vlc1xuICBpZiAoYW5hbHlzaXMucmVjaHRsaWNoZV9laW5vcmRudW5nPy5hYmdyZW56dW5nX2FyYmVpdHN2ZXJ0cmFnKSB7XG4gICAgY29uc3QgYWIgPSBhbmFseXNpcy5yZWNodGxpY2hlX2Vpbm9yZG51bmcuYWJncmVuenVuZ19hcmJlaXRzdmVydHJhZztcbiAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgIGlkOiAnYWJncmVuenVuZ19hcmJlaXRzdmVydHJhZycsXG4gICAgICB0eXBlOiAnbGVnYWxfcmlzaycsXG4gICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgY29tbWVudDogJ0FiZ3Jlbnp1bmcgQXJiZWl0c3ZlcnRyYWcnLFxuICAgICAgZXhwbGFuYXRpb246IGAke2FiLnByb2JsZW19LiAke2FiLmdlZmFocn1gLFxuICAgICAgbGVnYWxSZWZlcmVuY2U6ICfCpyA2MTFhIEJHQiwgwqfCpyA2MzEtNjUxIEJHQicsXG4gICAgICB0ZXh0OiAnRnJlaWVyIFdlcmt2ZXJ0cmFnJyxcbiAgICAgIHN0YXJ0T2Zmc2V0OiAwLFxuICAgICAgZW5kT2Zmc2V0OiAxOCxcbiAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAgZmVobGVuZGVfbWluZGVzdGFuZ2FiZW5cbiAgaWYgKGFuYWx5c2lzLmZlaGxlbmRlX21pbmRlc3RhbmdhYmVuPy5bJ3BmbGljaHRhbmdhYmVuX25hY2hfwqcyX25hY2h3ZWlzZyddKSB7XG4gICAgY29uc3QgcGZsaWNodGFuZ2FiZW4gPSBhbmFseXNpcy5mZWhsZW5kZV9taW5kZXN0YW5nYWJlblsncGZsaWNodGFuZ2FiZW5fbmFjaF/CpzJfbmFjaHdlaXNnJ107XG4gICAgcGZsaWNodGFuZ2FiZW4uZm9yRWFjaCgoYW5nYWJlOiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBgZmVobGVuZGVfYW5nYWJlXyR7aX1gLFxuICAgICAgICB0eXBlOiAnbWlzc2luZ19jbGF1c2UnLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIGNvbW1lbnQ6IGBGZWhsZW5kZSBQZmxpY2h0YW5nYWJlOiAke2FuZ2FiZX1gLFxuICAgICAgICBleHBsYW5hdGlvbjogYE5hY2ggwqcgMiBOYWNod0cgZXJmb3JkZXJsaWNoOiAke2FuZ2FiZX0uIFN0YXR1czogJHthbmFseXNpcy5mZWhsZW5kZV9taW5kZXN0YW5nYWJlbi5zdGF0dXN9YCxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6ICfCpyAyIE5hY2h3RycsXG4gICAgICAgIHRleHQ6IGFuZ2FiZSxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IDAsIC8vIE1pc3NpbmcgY2xhdXNlcyBjYW4ndCBiZSBoaWdobGlnaHRlZFxuICAgICAgICBlbmRPZmZzZXQ6IDAsXG4gICAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIGNvbXBsaWFuY2VfdmVyc3RvZXNzZVxuICBpZiAoYW5hbHlzaXMuY29tcGxpYW5jZV92ZXJzdG9lc3NlKSB7XG4gICAgT2JqZWN0LmVudHJpZXMoYW5hbHlzaXMuY29tcGxpYW5jZV92ZXJzdG9lc3NlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV06IFtzdHJpbmcsIGFueV0sIGk6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgICAgaWQ6IGBjb21wbGlhbmNlXyR7a2V5fV8ke2l9YCxcbiAgICAgICAgICB0eXBlOiAnY29tcGxpYW5jZV9pc3N1ZScsXG4gICAgICAgICAgc2V2ZXJpdHk6IHZhbHVlLnN0YXR1cz8uaW5jbHVkZXMoJ05pY2h0JykgPyAnbWVkaXVtJyA6ICdsb3cnLFxuICAgICAgICAgIGNvbW1lbnQ6IGBDb21wbGlhbmNlLVZlcnN0b8OfOiAke2tleX1gLFxuICAgICAgICAgIGV4cGxhbmF0aW9uOiBgJHt2YWx1ZS5zdGF0dXMgfHwgJyd9LiAke3ZhbHVlLnByb2JsZW0gfHwgdmFsdWUuaGlud2VpcyB8fCAnJ31gLFxuICAgICAgICAgIHRleHQ6IGtleSxcbiAgICAgICAgICBzdGFydE9mZnNldDogKGkgKyA1MCkgKiAxMCxcbiAgICAgICAgICBlbmRPZmZzZXQ6ICgoaSArIDUwKSAqIDEwKSArIGtleS5sZW5ndGgsXG4gICAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIHJlY2h0bGljaGVfbcOkbmdlbCAocHJldmlvdXMgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMucmVjaHRsaWNoZV9tw6RuZ2VsICYmIEFycmF5LmlzQXJyYXkoYW5hbHlzaXMucmVjaHRsaWNoZV9tw6RuZ2VsKSkge1xuICAgIGFuYWx5c2lzLnJlY2h0bGljaGVfbcOkbmdlbC5mb3JFYWNoKChybTogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYHJlY2h0bGljaF8ke2l9YCxcbiAgICAgICAgdHlwZTogJ2xlZ2FsX3Jpc2snLFxuICAgICAgICBzZXZlcml0eTogcm0uc2Nod2VyZWdyYWQ/LnRvTG93ZXJDYXNlKCkgfHwgJ2hpZ2gnLFxuICAgICAgICBjb21tZW50OiBybS5rYXRlZ29yaWUgfHwgcm0uYmVzY2hyZWlidW5nIHx8IHJtLnRpdGVsIHx8ICdMZWdhbCBpc3N1ZScsXG4gICAgICAgIGV4cGxhbmF0aW9uOiBybS5iZXNjaHJlaWJ1bmcgfHwgcm0uZXJsw6R1dGVydW5nIHx8IHJtLmRldGFpbHMgfHwgJycsXG4gICAgICAgIGxlZ2FsUmVmZXJlbmNlOiBybS5yZWNodHNncnVuZGxhZ2UgfHwgcm0uZ2VzZXR6IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dDogcm0ua2F0ZWdvcmllIHx8IHJtLnRpdGVsIHx8ICdMZWdhbCBpc3N1ZScsXG4gICAgICAgIHN0YXJ0T2Zmc2V0OiBpICogMTAwLFxuICAgICAgICBlbmRPZmZzZXQ6IChpICogMTAwKSArIDUwLFxuICAgICAgICBwYWdlTnVtYmVyOiAxLFxuICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1hcCBmZWhsZW5kZV9rbGF1c2VsbiAocHJldmlvdXMgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMuZmVobGVuZGVfa2xhdXNlbG4gJiYgQXJyYXkuaXNBcnJheShhbmFseXNpcy5mZWhsZW5kZV9rbGF1c2VsbikpIHtcbiAgICBhbmFseXNpcy5mZWhsZW5kZV9rbGF1c2Vsbi5mb3JFYWNoKChmazogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYGZlaGxlbmRlXyR7aX1gLFxuICAgICAgICB0eXBlOiAnbWlzc2luZ19jbGF1c2UnLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIGNvbW1lbnQ6IGBGZWhsZW5kZSBLbGF1c2VsOiAke2ZrLmtsYXVzZWwgfHwgZmsuYmVyZWljaCB8fCBmay50aXRlbH1gLFxuICAgICAgICBleHBsYW5hdGlvbjogZmsuYmVzY2hyZWlidW5nIHx8IGZrLmVybMOkdXRlcnVuZyB8fCBmay5ncnVuZCB8fCAnJyxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6IGZrLnJlY2h0c2dydW5kbGFnZSB8fCBmay5nZXNldHogfHwgdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0OiBmay5rbGF1c2VsIHx8IGZrLmJlcmVpY2ggfHwgZmsudGl0ZWwgfHwgJ01pc3NpbmcgY2xhdXNlJyxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IDAsXG4gICAgICAgIGVuZE9mZnNldDogMCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAga3JpdGlzY2hlX3B1bmt0ZSAob3JpZ2luYWwgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMua3JpdGlzY2hlX3B1bmt0ZSAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLmtyaXRpc2NoZV9wdW5rdGUpKSB7XG4gICAgYW5hbHlzaXMua3JpdGlzY2hlX3B1bmt0ZS5mb3JFYWNoKChrcDogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYGtyaXRpc2NoXyR7aX1gLFxuICAgICAgICB0eXBlOiAnbGVnYWxfcmlzaycsXG4gICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgIGNvbW1lbnQ6IGtwLmthdGVnb3JpZSB8fCBrcC5iZXNjaHJlaWJ1bmcgfHwgJ0NyaXRpY2FsIGxlZ2FsIGlzc3VlJyxcbiAgICAgICAgZXhwbGFuYXRpb246IGtwLmJlc2NocmVpYnVuZyB8fCAoa3AuZGV0YWlscyA/IGtwLmRldGFpbHMuam9pbignLiAnKSA6ICcnKSB8fCAoa3AuaW5kaXppZW4gPyBrcC5pbmRpemllbi5qb2luKCcuICcpIDogJycpIHx8IChrcC5mb2xnZW4gPyBrcC5mb2xnZW4uam9pbignLiAnKSA6ICcnKSxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6IGtwLnJlY2h0c2dydW5kbGFnZW4gPyBrcC5yZWNodHNncnVuZGxhZ2VuLmpvaW4oJywgJykgOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHQ6IGtwLmthdGVnb3JpZSB8fCBrcC5iZXNjaHJlaWJ1bmcgfHwgJ0NyaXRpY2FsIGlzc3VlJyxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IGkgKiAxMDAsXG4gICAgICAgIGVuZE9mZnNldDogKGkgKiAxMDApICsgNTAsXG4gICAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIGZlaGxlbmRlX3BmbGljaHRhbmdhYmVuIChvcmlnaW5hbCBzdHJ1Y3R1cmUpXG4gIGlmIChhbmFseXNpcy5mZWhsZW5kZV9wZmxpY2h0YW5nYWJlbiAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLmZlaGxlbmRlX3BmbGljaHRhbmdhYmVuKSkge1xuICAgIGFuYWx5c2lzLmZlaGxlbmRlX3BmbGljaHRhbmdhYmVuLmZvckVhY2goKGZwOiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBgZmVobGVuZF8ke2l9YCxcbiAgICAgICAgdHlwZTogJ21pc3NpbmdfY2xhdXNlJyxcbiAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICBjb21tZW50OiBgRmVobGVuZGUgUmVnZWx1bmc6ICR7ZnAuYmVyZWljaH1gLFxuICAgICAgICBleHBsYW5hdGlvbjogYCR7ZnAuZ2VzZXR6bGljaGVfYW5mb3JkZXJ1bmd9LiBTdGF0dXM6ICR7ZnAuc3RhdHVzfWAsXG4gICAgICAgIGxlZ2FsUmVmZXJlbmNlOiBmcC5nZXNldHpsaWNoZV9hbmZvcmRlcnVuZyxcbiAgICAgICAgdGV4dDogZnAuYmVyZWljaCxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IDAsXG4gICAgICAgIGVuZE9mZnNldDogMCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAgd2VpdGVyZV9tw6RuZ2VsIChpZiBwcmVzZW50KVxuICBpZiAoYW5hbHlzaXMud2VpdGVyZV9tw6RuZ2VsICYmIEFycmF5LmlzQXJyYXkoYW5hbHlzaXMud2VpdGVyZV9tw6RuZ2VsKSkge1xuICAgIGFuYWx5c2lzLndlaXRlcmVfbcOkbmdlbC5mb3JFYWNoKCh3bTogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYG1hbmdlbF8ke2l9YCxcbiAgICAgICAgdHlwZTogJ2ltcHJvdmVtZW50X3N1Z2dlc3Rpb24nLFxuICAgICAgICBzZXZlcml0eTogd20uYmV3ZXJ0dW5nPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdob2NoJykgPyAnaGlnaCcgOiBcbiAgICAgICAgICAgICAgICAgd20uYmV3ZXJ0dW5nPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtaXR0ZWwnKSA/ICdtZWRpdW0nIDogJ2xvdycsXG4gICAgICAgIGNvbW1lbnQ6IHdtLnByb2JsZW0sXG4gICAgICAgIGV4cGxhbmF0aW9uOiB3bS5iZXNjaHJlaWJ1bmcsXG4gICAgICAgIGxlZ2FsUmVmZXJlbmNlOiB3bS5yZWNodHNncnVuZGxhZ2UsXG4gICAgICAgIHRleHQ6IHdtLnByb2JsZW0sXG4gICAgICAgIHN0YXJ0T2Zmc2V0OiAoaSArIDEwKSAqIDEwMCxcbiAgICAgICAgZW5kT2Zmc2V0OiAoKGkgKyAxMCkgKiAxMDApICsgNTAsXG4gICAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIGFuYWx5c2VfZXJnZWJuaXMua3JpdGlzY2hlX3B1bmt0ZSAoYWx0ZXJuYXRpdmUgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMuYW5hbHlzZV9lcmdlYm5pcz8ua3JpdGlzY2hlX3B1bmt0ZSkge1xuICAgIGFuYWx5c2lzLmFuYWx5c2VfZXJnZWJuaXMua3JpdGlzY2hlX3B1bmt0ZS5mb3JFYWNoKChrcDogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYHdlcmtfa3JpdGlzY2hfJHtpfWAsXG4gICAgICAgIHR5cGU6ICdsZWdhbF9yaXNrJyxcbiAgICAgICAgc2V2ZXJpdHk6IGtwLmJld2VydHVuZz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaG9jaCcpID8gJ2hpZ2gnIDogXG4gICAgICAgICAgICAgICAgIGtwLmJld2VydHVuZz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbWl0dGVsJykgPyAnbWVkaXVtJyA6ICdsb3cnLFxuICAgICAgICBjb21tZW50OiBrcC5wcm9ibGVtLFxuICAgICAgICBleHBsYW5hdGlvbjoga3AuYmVzY2hyZWlidW5nLFxuICAgICAgICBzdWdnZXN0ZWRSZXBsYWNlbWVudDoga3AuZW1wZmVobHVuZyxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6IGtwLnJlY2h0c2dydW5kbGFnZSxcbiAgICAgICAgdGV4dDoga3AucHJvYmxlbSxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IChpICsgMjApICogMTAwLFxuICAgICAgICBlbmRPZmZzZXQ6ICgoaSArIDIwKSAqIDEwMCkgKyA1MCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYW5ub3RhdGlvbnM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBjb250ZW50LCBwYWdlcywgbmFtZSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgaWYgKCFjb250ZW50IHx8ICFwYWdlcyB8fCAhbmFtZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIGNvbnRyYWN0IGRhdGEnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICAgIGlmICghcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0FJIGFuYWx5c2lzIHNlcnZpY2Ugbm90IGNvbmZpZ3VyZWQnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgZm9jdXNlZCB1c2VyIHByb21wdFxuICAgIGNvbnN0IHVzZXJQcm9tcHQgPSBgQW5hbHlzaWVyZW4gU2llIGRlbiBmb2xnZW5kZW4gZGV1dHNjaGVuIFZlcnRyYWc6XG5cblZFUlRSQUdTTkFNRTogJHtuYW1lfVxuVkVSVFJBR1NJTkhBTFQ6XG4ke2NvbnRlbnR9XG5cbkbDvGhyZW4gU2llIGVpbmUgdm9sbHN0w6RuZGlnZSByZWNodGxpY2hlIEFuYWx5c2UgZHVyY2guIElkZW50aWZpemllcmVuIFNpZSBBTExFIHByb2JsZW1hdGlzY2hlbiBLbGF1c2VsbiwgZmVobGVuZGVuIEJlc3RpbW11bmdlbiB1bmQgQ29tcGxpYW5jZS1WZXJzdMO2w59lLiBBbnR3b3J0ZW4gU2llIGltIGdlZm9yZGVydGVuIEpTT04tRm9ybWF0LmA7XG5cbiAgICAvLyBDYWxsIEdyb3FDbG91ZCB3aXRoIHN0cnVjdHVyZWQgcHJvbXB0XG4gICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IGdyb3EuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogU1lTVEVNX1BST01QVCB9LFxuICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogdXNlclByb21wdCB9XG4gICAgICBdLFxuICAgICAgbW9kZWw6ICdtb29uc2hvdGFpL2tpbWktazItaW5zdHJ1Y3QnLFxuICAgICAgdGVtcGVyYXR1cmU6IDAuMSxcbiAgICAgIG1heF90b2tlbnM6IDQwMDAsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGNvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudDtcbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vIHJlc3BvbnNlIGZyb20gQUkgYW5hbHlzaXMnIH0sIHsgc3RhdHVzOiA1MDIgfSk7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgdGhlIHN0cnVjdHVyZWQgSlNPTiByZXNwb25zZVxuICAgIGxldCBhbmFseXNpcztcbiAgICB0cnkge1xuICAgICAgbGV0IGNsZWFuID0gcmVzcG9uc2UudHJpbSgpO1xuICAgICAgaWYgKGNsZWFuLnN0YXJ0c1dpdGgoJ2BgYGpzb24nKSkgY2xlYW4gPSBjbGVhbi5yZXBsYWNlKC9gYGBqc29uXFxuPy8sICcnKS5yZXBsYWNlKC9cXG4/YGBgJC8sICcnKTtcbiAgICAgIGFuYWx5c2lzID0gSlNPTi5wYXJzZShjbGVhbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIEFJIHJlc3BvbnNlIGZvcm1hdCcsIHJhdzogcmVzcG9uc2UgfSwgeyBzdGF0dXM6IDUwMiB9KTtcbiAgICB9XG5cbiAgICAvLyBUaGUgc3RydWN0dXJlZCBwcm9tcHQgc2hvdWxkIHByb3ZpZGUgYW5ub3RhdGlvbnMgZGlyZWN0bHlcbiAgICAvLyBCdXQga2VlcCBub3JtYWxpemF0aW9uIGFzIGZhbGxiYWNrIGZvciBlZGdlIGNhc2VzXG4gICAgaWYgKCFhbmFseXNpcy5hbm5vdGF0aW9ucyB8fCBhbmFseXNpcy5hbm5vdGF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGFuYWx5c2lzLmFubm90YXRpb25zID0gbm9ybWFsaXplQW5ub3RhdGlvbnMoYW5hbHlzaXMpO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBiYXNpYyBmaWVsZHMgYXJlIHByZXNlbnRcbiAgICBpZiAoIWFuYWx5c2lzLm92ZXJhbGxSaXNrKSB7XG4gICAgICBhbmFseXNpcy5vdmVyYWxsUmlzayA9IGFuYWx5c2lzLmFubm90YXRpb25zLmxlbmd0aCA+IDUgPyAnaGlnaCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmFseXNpcy5hbm5vdGF0aW9ucy5sZW5ndGggPiAyID8gJ21lZGl1bScgOiAnbG93JztcbiAgICB9XG4gICAgaWYgKCFhbmFseXNpcy5zdW1tYXJ5KSB7XG4gICAgICBhbmFseXNpcy5zdW1tYXJ5ID0gYCR7YW5hbHlzaXMuYW5ub3RhdGlvbnMubGVuZ3RofSByZWNodGxpY2hlIFByb2JsZW1lIGlkZW50aWZpemllcnQuYDtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhbmFseXNpcyB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDb250cmFjdCBhbmFseXNpcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gYW5hbHl6ZSBjb250cmFjdCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBPcHRpb25hbDogSGVhbHRoIGNoZWNrIGVuZHBvaW50XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGhhc0FwaUtleSA9ICEhcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdGF0dXM6ICdvcGVyYXRpb25hbCcsXG4gICAgICBjb25maWd1cmVkOiBoYXNBcGlLZXksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiAnU2VydmljZSBoZWFsdGggY2hlY2sgZmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJHcm9xIiwiZ3JvcSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHUk9RX0FQSV9LRVkiLCJTWVNURU1fUFJPTVBUIiwibm9ybWFsaXplQW5ub3RhdGlvbnMiLCJhbmFseXNpcyIsImFubm90YXRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidmVydHJhZ3NhbmFseXNlIiwia3JpdGlzY2hlX2hpbndlaXNlIiwiZm9yRWFjaCIsImhpbnQiLCJpIiwicHVzaCIsImlkIiwidHlwZSIsInNldmVyaXR5IiwiY29tbWVudCIsImV4cGxhbmF0aW9uIiwidGV4dCIsInN1YnN0cmluZyIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwicGFnZU51bWJlciIsImNvbmZpZGVuY2UiLCJyZWNodGxpY2hlX2Vpbm9yZG51bmciLCJhYmdyZW56dW5nX2FyYmVpdHN2ZXJ0cmFnIiwiYWIiLCJwcm9ibGVtIiwiZ2VmYWhyIiwibGVnYWxSZWZlcmVuY2UiLCJmZWhsZW5kZV9taW5kZXN0YW5nYWJlbiIsInBmbGljaHRhbmdhYmVuIiwiYW5nYWJlIiwic3RhdHVzIiwiY29tcGxpYW5jZV92ZXJzdG9lc3NlIiwiT2JqZWN0IiwiZW50cmllcyIsImtleSIsInZhbHVlIiwiaW5jbHVkZXMiLCJoaW53ZWlzIiwicmVjaHRsaWNoZV9tw6RuZ2VsIiwicm0iLCJzY2h3ZXJlZ3JhZCIsInRvTG93ZXJDYXNlIiwia2F0ZWdvcmllIiwiYmVzY2hyZWlidW5nIiwidGl0ZWwiLCJlcmzDpHV0ZXJ1bmciLCJkZXRhaWxzIiwicmVjaHRzZ3J1bmRsYWdlIiwiZ2VzZXR6IiwidW5kZWZpbmVkIiwiZmVobGVuZGVfa2xhdXNlbG4iLCJmayIsImtsYXVzZWwiLCJiZXJlaWNoIiwiZ3J1bmQiLCJrcml0aXNjaGVfcHVua3RlIiwia3AiLCJqb2luIiwiaW5kaXppZW4iLCJmb2xnZW4iLCJyZWNodHNncnVuZGxhZ2VuIiwiZmVobGVuZGVfcGZsaWNodGFuZ2FiZW4iLCJmcCIsImdlc2V0emxpY2hlX2FuZm9yZGVydW5nIiwid2VpdGVyZV9tw6RuZ2VsIiwid20iLCJiZXdlcnR1bmciLCJhbmFseXNlX2VyZ2VibmlzIiwic3VnZ2VzdGVkUmVwbGFjZW1lbnQiLCJlbXBmZWhsdW5nIiwiUE9TVCIsInJlcXVlc3QiLCJjb250ZW50IiwicGFnZXMiLCJuYW1lIiwianNvbiIsImVycm9yIiwidXNlclByb21wdCIsImNvbXBsZXRpb24iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtZXNzYWdlcyIsInJvbGUiLCJtb2RlbCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsInJlc3BvbnNlIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJjbGVhbiIsInRyaW0iLCJzdGFydHNXaXRoIiwicmVwbGFjZSIsIkpTT04iLCJwYXJzZSIsImUiLCJyYXciLCJvdmVyYWxsUmlzayIsInN1bW1hcnkiLCJjb25zb2xlIiwiR0VUIiwiaGFzQXBpS2V5IiwiY29uZmlndXJlZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/analyze-contract/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/groq-sdk","vendor-chunks/form-data-encoder","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/tr46","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/web-streams-polyfill","vendor-chunks/ms","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();