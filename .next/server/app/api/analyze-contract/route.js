"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze-contract/route";
exports.ids = ["app/api/analyze-contract/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_maxhenkes_Desktop_LexChecker_src_app_api_analyze_contract_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/analyze-contract/route.ts */ \"(rsc)/./src/app/api/analyze-contract/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze-contract/route\",\n        pathname: \"/api/analyze-contract\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze-contract/route\"\n    },\n    resolvedPagePath: \"/Users/maxhenkes/Desktop/LexChecker/src/app/api/analyze-contract/route.ts\",\n    nextConfigOutput,\n    userland: _Users_maxhenkes_Desktop_LexChecker_src_app_api_analyze_contract_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/analyze-contract/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplLWNvbnRyYWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplLWNvbnRyYWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZS1jb250cmFjdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1heGhlbmtlcyUyRkRlc2t0b3AlMkZMZXhDaGVja2VyJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm1heGhlbmtlcyUyRkRlc2t0b3AlMkZMZXhDaGVja2VyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGV4Y2hlY2tlci8/NTNmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbWF4aGVua2VzL0Rlc2t0b3AvTGV4Q2hlY2tlci9zcmMvYXBwL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYW5hbHl6ZS1jb250cmFjdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl6ZS1jb250cmFjdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9tYXhoZW5rZXMvRGVza3RvcC9MZXhDaGVja2VyL3NyYy9hcHAvYXBpL2FuYWx5emUtY29udHJhY3Qvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS1jb250cmFjdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/analyze-contract/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/analyze-contract/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var groq_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.mjs\");\n\n\nconst groq = new groq_sdk__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.GROQ_API_KEY\n});\n// Use a structured system prompt that enforces consistent JSON output\nconst SYSTEM_PROMPT = `Sie sind ein erfahrener deutscher Rechtsanwalt mit Spezialisierung auf Arbeits- und Vertragsrecht.\n\nAUFGABE: Analysieren Sie deutsche Verträge und identifizieren Sie alle rechtlichen Probleme, Compliance-Verstöße und Verbesserungsmöglichkeiten.\n\nWICHTIG: Antworten Sie AUSSCHLIESSLICH im folgenden JSON-Format:\n\n{\n  \"overallRisk\": \"low|medium|high|critical\",\n  \"summary\": \"Kurze Zusammenfassung der wichtigsten rechtlichen Probleme\",\n  \"annotations\": [\n    {\n      \"id\": \"unique_id\",\n      \"type\": \"legal_risk|compliance_issue|improvement_suggestion|missing_clause|gdpr_concern\",\n      \"severity\": \"critical|high|medium|low|info\",\n      \"sourceType\": \"specific_text|structural_inference|missing_clause\",\n      \"comment\": \"Präzise Beschreibung des Problems (max. 100 Zeichen)\",\n      \"explanation\": \"Detaillierte rechtliche Erklärung mit Begründung (min. 50 Zeichen)\",\n      \"legalReference\": \"Relevante Gesetze/Paragraphen (z.B. § 622 BGB, § 2 NachwG)\",\n      \"text\": \"Relevanter Vertragstext oder Problembereich\",\n      \"textEvidence\": [\"§2 Arbeitszeit\", \"§5 Weisungsbefugnis\"], // Nur bei structural_inference\n      \"recommendedHighlight\": \"Ungefährer Text zum Hervorheben\", // Nur bei structural_inference\n      \"contributingFactors\": [ // Nur bei komplexen structural_inference Problemen\n        {\n          \"clauseReference\": \"§2 Arbeitszeit\",\n          \"factorText\": \"Feste Arbeitszeiten 9-17 Uhr\",\n          \"severity\": \"high\",\n          \"explanation\": \"Deutet auf abhängige Beschäftigung hin\"\n        }\n      ],\n      \"suggestedReplacement\": \"Vorgeschlagene Verbesserung (optional)\",\n      \"pageNumber\": 1,\n      \"confidence\": 0.9\n    }\n  ],\n  \"recommendations\": [\n    {\n      \"title\": \"Empfehlungstitel\",\n      \"description\": \"Detaillierte Handlungsempfehlung\",\n      \"priority\": \"high|medium|low\",\n      \"category\": \"Compliance|BGB|Arbeitsrecht|Datenschutz\",\n      \"actionRequired\": true\n    }\n  ]\n}\n\nANNOTATION SOURCE TYPES:\n- \"specific_text\": Problem liegt in konkretem Vertragstext (z.B. unwirksame AGB-Klausel)\n- \"structural_inference\": Rechtliche Schlussfolgerung aus Gesamtvertrag (z.B. Scheinselbständigkeit)\n- \"missing_clause\": Fehlende erforderliche Bestimmung\n\nFÜR STRUCTURAL_INFERENCE:\n- textEvidence: Liste der beitragenden Vertragsabsätze/Klauseln\n- recommendedHighlight: Konkreter Text der hervorgehoben werden sollte\n- contributingFactors: Bei komplexen Problemen wie Scheinselbständigkeit alle Faktoren auflisten\n\nBEISPIEL für Scheinselbständigkeit:\n{\n  \"sourceType\": \"structural_inference\",\n  \"textEvidence\": [\"§2 Arbeitszeit\", \"§4 Weisungen\", \"§6 Vergütung\"],\n  \"contributingFactors\": [\n    {\"clauseReference\": \"§2\", \"factorText\": \"Arbeitszeit: täglich 8 Stunden\", \"severity\": \"high\"},\n    {\"clauseReference\": \"§4\", \"factorText\": \"Weisungsrecht des Auftraggebers\", \"severity\": \"critical\"}\n  ]\n}\n\nBEISPIELE für mathematische Validierung:\n\nRICHTIG - Mindestlohn COMPLIANCE (KEINE Flaggung):\n- Vertrag: €4.500/Monat bei 168h → €26,79/h > €12,41 → KEIN Verstoß\n- Vertrag: €2.500/Monat bei 160h → €15,63/h > €12,41 → KEIN Verstoß\n\nRICHTIG - Mindestlohn VERSTOS (Flaggung erforderlich):\n- Vertrag: €1.800/Monat bei 168h → €10,71/h < €12,41 → Verstoß flaggen\n\nFALSCH - Diese Flaggung ist VERBOTEN:\n- \"Trotz €26,79/h könnte Mindestlohn-Risiko bestehen\" → NIEMALS so flaggen!\n\nALLGEMEINE VALIDIERUNGSREGEL:\nFür JEDEN Compliance-Check gilt:\n1. MESSEN Sie den tatsächlichen Wert im Vertrag\n2. VERGLEICHEN Sie mit dem gesetzlichen Schwellenwert  \n3. NUR bei tatsächlicher Unterschreitung → Verstoß flaggen\n4. Bei Einhaltung oder Überschreitung → KEINE Flaggung\n5. DOKUMENTIEREN Sie die Berechnung transparent\n\nDiese Regel gilt für: Mindestlohn, Kündigungsfristen, Urlaubstage, Arbeitszeiten, etc.\n\nANALYSESCHWERPUNKTE:\n- BGB-Compliance (§§ 305-310 AGB-Recht, § 307 Unwirksamkeit)\n- Arbeitsrecht (§ 622 BGB Kündigungsfristen, § 2 NachwG Pflichtangaben)\n- Mindestlohn (MiLoG § 1: aktuell 12,41 €/Stunde)\n- Urlaubsrecht (BUrlG § 3: mind. 24 Werktage)\n- DSGVO-Compliance bei Datenverarbeitung\n- Scheinselbständigkeit nach § 611a BGB\n\nKRITISCH - MATHEMATISCHE VALIDIERUNG:\nBei Mindestlohn-Prüfung:\n1. Berechnen Sie den Stundenlohn: (Monatslohn ÷ Arbeitsstunden pro Monat)\n2. Vergleichen Sie mit €12,41\n3. NUR bei Stundenlohn < €12,41 → Verstoß flaggen\n4. Bei Stundenlohn ≥ €12,41 → KEINEN Verstoß flaggen\n5. Dokumentieren Sie die Berechnung in der explanation\n\nBei Urlaubstagen-Prüfung:\n1. Zählen Sie die gewährten Urlaubstage\n2. Vergleichen Sie mit 24 Werktagen (bei 6-Tage-Woche) oder 20 Werktagen (bei 5-Tage-Woche)\n3. NUR bei weniger Tagen → Verstoß flaggen\n\nNIEMALS einen Compliance-Verstoß flaggen, wenn die tatsächlichen Werte die gesetzlichen Mindestanforderungen erfüllen oder überschreiten.\n\nJede Annotation MUSS eine detaillierte \"explanation\" und \"legalReference\" enthalten. Seien Sie spezifisch und actionable.`;\nfunction normalizeAnnotations(analysis) {\n    const annotations = [];\n    // If already present, return as is\n    if (Array.isArray(analysis.annotations) && analysis.annotations.length > 0) {\n        return analysis.annotations;\n    }\n    // Map vertragsanalyse.kritische_hinweise (newest structure)\n    if (analysis.vertragsanalyse?.kritische_hinweise && Array.isArray(analysis.vertragsanalyse.kritische_hinweise)) {\n        analysis.vertragsanalyse.kritische_hinweise.forEach((hint, i)=>{\n            annotations.push({\n                id: `kritisch_hinweis_${i}`,\n                type: \"legal_risk\",\n                severity: \"high\",\n                comment: \"Kritischer Hinweis\",\n                explanation: hint,\n                text: hint.substring(0, 30) + \"...\",\n                startOffset: i * 100,\n                endOffset: i * 100 + 30,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    // Map rechtliche_einordnung issues\n    if (analysis.rechtliche_einordnung?.abgrenzung_arbeitsvertrag) {\n        const ab = analysis.rechtliche_einordnung.abgrenzung_arbeitsvertrag;\n        annotations.push({\n            id: \"abgrenzung_arbeitsvertrag\",\n            type: \"legal_risk\",\n            severity: \"high\",\n            comment: \"Abgrenzung Arbeitsvertrag\",\n            explanation: `${ab.problem}. ${ab.gefahr}`,\n            legalReference: \"\\xa7 611a BGB, \\xa7\\xa7 631-651 BGB\",\n            text: \"Freier Werkvertrag\",\n            startOffset: 0,\n            endOffset: 18,\n            pageNumber: 1,\n            confidence: 0.9\n        });\n    }\n    // Map fehlende_mindestangaben\n    if (analysis.fehlende_mindestangaben?.[\"pflichtangaben_nach_\\xa72_nachweisg\"]) {\n        const pflichtangaben = analysis.fehlende_mindestangaben[\"pflichtangaben_nach_\\xa72_nachweisg\"];\n        pflichtangaben.forEach((angabe, i)=>{\n            annotations.push({\n                id: `fehlende_angabe_${i}`,\n                type: \"missing_clause\",\n                severity: \"medium\",\n                comment: `Fehlende Pflichtangabe: ${angabe}`,\n                explanation: `Nach § 2 NachwG erforderlich: ${angabe}. Status: ${analysis.fehlende_mindestangaben.status}`,\n                legalReference: \"\\xa7 2 NachwG\",\n                text: angabe,\n                startOffset: 0,\n                endOffset: 0,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map compliance_verstoesse\n    if (analysis.compliance_verstoesse) {\n        Object.entries(analysis.compliance_verstoesse).forEach(([key, value], i)=>{\n            if (value && typeof value === \"object\") {\n                annotations.push({\n                    id: `compliance_${key}_${i}`,\n                    type: \"compliance_issue\",\n                    severity: value.status?.includes(\"Nicht\") ? \"medium\" : \"low\",\n                    comment: `Compliance-Verstoß: ${key}`,\n                    explanation: `${value.status || \"\"}. ${value.problem || value.hinweis || \"\"}`,\n                    text: key,\n                    startOffset: (i + 50) * 10,\n                    endOffset: (i + 50) * 10 + key.length,\n                    pageNumber: 1,\n                    confidence: 0.7\n                });\n            }\n        });\n    }\n    // Map rechtliche_mängel (previous structure)\n    if (analysis.rechtliche_mängel && Array.isArray(analysis.rechtliche_mängel)) {\n        analysis.rechtliche_mängel.forEach((rm, i)=>{\n            annotations.push({\n                id: `rechtlich_${i}`,\n                type: \"legal_risk\",\n                severity: rm.schweregrad?.toLowerCase() || \"high\",\n                comment: rm.kategorie || rm.beschreibung || rm.titel || \"Legal issue\",\n                explanation: rm.beschreibung || rm.erläuterung || rm.details || \"\",\n                legalReference: rm.rechtsgrundlage || rm.gesetz || undefined,\n                text: rm.kategorie || rm.titel || \"Legal issue\",\n                startOffset: i * 100,\n                endOffset: i * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    // Map fehlende_klauseln (previous structure)\n    if (analysis.fehlende_klauseln && Array.isArray(analysis.fehlende_klauseln)) {\n        analysis.fehlende_klauseln.forEach((fk, i)=>{\n            annotations.push({\n                id: `fehlende_${i}`,\n                type: \"missing_clause\",\n                severity: \"medium\",\n                comment: `Fehlende Klausel: ${fk.klausel || fk.bereich || fk.titel}`,\n                explanation: fk.beschreibung || fk.erläuterung || fk.grund || \"\",\n                legalReference: fk.rechtsgrundlage || fk.gesetz || undefined,\n                text: fk.klausel || fk.bereich || fk.titel || \"Missing clause\",\n                startOffset: 0,\n                endOffset: 0,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map kritische_punkte (original structure)\n    if (analysis.kritische_punkte && Array.isArray(analysis.kritische_punkte)) {\n        analysis.kritische_punkte.forEach((kp, i)=>{\n            annotations.push({\n                id: `kritisch_${i}`,\n                type: \"legal_risk\",\n                severity: \"high\",\n                comment: kp.kategorie || kp.beschreibung || \"Critical legal issue\",\n                explanation: kp.beschreibung || (kp.details ? kp.details.join(\". \") : \"\") || (kp.indizien ? kp.indizien.join(\". \") : \"\") || (kp.folgen ? kp.folgen.join(\". \") : \"\"),\n                legalReference: kp.rechtsgrundlagen ? kp.rechtsgrundlagen.join(\", \") : undefined,\n                text: kp.kategorie || kp.beschreibung || \"Critical issue\",\n                startOffset: i * 100,\n                endOffset: i * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    // Map fehlende_pflichtangaben (original structure)\n    if (analysis.fehlende_pflichtangaben && Array.isArray(analysis.fehlende_pflichtangaben)) {\n        analysis.fehlende_pflichtangaben.forEach((fp, i)=>{\n            annotations.push({\n                id: `fehlend_${i}`,\n                type: \"missing_clause\",\n                severity: \"medium\",\n                comment: `Fehlende Regelung: ${fp.bereich}`,\n                explanation: `${fp.gesetzliche_anforderung}. Status: ${fp.status}`,\n                legalReference: fp.gesetzliche_anforderung,\n                text: fp.bereich,\n                startOffset: 0,\n                endOffset: 0,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map weitere_mängel (if present)\n    if (analysis.weitere_mängel && Array.isArray(analysis.weitere_mängel)) {\n        analysis.weitere_mängel.forEach((wm, i)=>{\n            annotations.push({\n                id: `mangel_${i}`,\n                type: \"improvement_suggestion\",\n                severity: wm.bewertung?.toLowerCase().includes(\"hoch\") ? \"high\" : wm.bewertung?.toLowerCase().includes(\"mittel\") ? \"medium\" : \"low\",\n                comment: wm.problem,\n                explanation: wm.beschreibung,\n                legalReference: wm.rechtsgrundlage,\n                text: wm.problem,\n                startOffset: (i + 10) * 100,\n                endOffset: (i + 10) * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.8\n            });\n        });\n    }\n    // Map analyse_ergebnis.kritische_punkte (alternative structure)\n    if (analysis.analyse_ergebnis?.kritische_punkte) {\n        analysis.analyse_ergebnis.kritische_punkte.forEach((kp, i)=>{\n            annotations.push({\n                id: `werk_kritisch_${i}`,\n                type: \"legal_risk\",\n                severity: kp.bewertung?.toLowerCase().includes(\"hoch\") ? \"high\" : kp.bewertung?.toLowerCase().includes(\"mittel\") ? \"medium\" : \"low\",\n                comment: kp.problem,\n                explanation: kp.beschreibung,\n                suggestedReplacement: kp.empfehlung,\n                legalReference: kp.rechtsgrundlage,\n                text: kp.problem,\n                startOffset: (i + 20) * 100,\n                endOffset: (i + 20) * 100 + 50,\n                pageNumber: 1,\n                confidence: 0.9\n            });\n        });\n    }\n    return annotations;\n}\nasync function POST(request) {\n    try {\n        const { content, pages, name } = await request.json();\n        if (!content || !pages || !name) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing contract data\"\n            }, {\n                status: 400\n            });\n        }\n        if (!process.env.GROQ_API_KEY) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"AI analysis service not configured\"\n            }, {\n                status: 500\n            });\n        }\n        // Build focused user prompt\n        const userPrompt = `Analysieren Sie den folgenden deutschen Vertrag:\n\nVERTRAGSNAME: ${name}\nVERTRAGSINHALT:\n${content}\n\nFühren Sie eine vollständige rechtliche Analyse durch. Identifizieren Sie ALLE problematischen Klauseln, fehlenden Bestimmungen und Compliance-Verstöße. Antworten Sie im geforderten JSON-Format.`;\n        // Call GroqCloud with structured prompt\n        const completion = await groq.chat.completions.create({\n            messages: [\n                {\n                    role: \"system\",\n                    content: SYSTEM_PROMPT\n                },\n                {\n                    role: \"user\",\n                    content: userPrompt\n                }\n            ],\n            model: \"moonshotai/kimi-k2-instruct\",\n            temperature: 0.1,\n            max_tokens: 4000\n        });\n        const response = completion.choices[0]?.message?.content;\n        if (!response) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No response from AI analysis\"\n            }, {\n                status: 502\n            });\n        }\n        // Parse the structured JSON response\n        let analysis;\n        try {\n            let clean = response.trim();\n            if (clean.startsWith(\"```json\")) clean = clean.replace(/```json\\n?/, \"\").replace(/\\n?```$/, \"\");\n            analysis = JSON.parse(clean);\n        } catch (e) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid AI response format\",\n                raw: response\n            }, {\n                status: 502\n            });\n        }\n        // The structured prompt should provide annotations directly\n        // But keep normalization as fallback for edge cases\n        if (!analysis.annotations || analysis.annotations.length === 0) {\n            analysis.annotations = normalizeAnnotations(analysis);\n        }\n        // Ensure basic fields are present\n        if (!analysis.overallRisk) {\n            analysis.overallRisk = analysis.annotations.length > 5 ? \"high\" : analysis.annotations.length > 2 ? \"medium\" : \"low\";\n        }\n        if (!analysis.summary) {\n            analysis.summary = `${analysis.annotations.length} rechtliche Probleme identifiziert.`;\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            analysis\n        });\n    } catch (error) {\n        console.error(\"Contract analysis error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to analyze contract\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Optional: Health check endpoint\nasync function GET() {\n    try {\n        const hasApiKey = !!process.env.GROQ_API_KEY;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            status: \"operational\",\n            configured: hasApiKey,\n            timestamp: new Date().toISOString(),\n            version: \"1.0.0\"\n        });\n    } catch (error) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            status: \"error\",\n            message: \"Service health check failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hbmFseXplLWNvbnRyYWN0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDNUI7QUFHNUIsTUFBTUUsT0FBTyxJQUFJRCxnREFBSUEsQ0FBQztJQUNwQkUsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBQ2xDO0FBRUEsc0VBQXNFO0FBQ3RFLE1BQU1DLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt5SEE4R2tHLENBQUM7QUFFMUgsU0FBU0MscUJBQXFCQyxRQUFhO0lBQ3pDLE1BQU1DLGNBQXFCLEVBQUU7SUFFN0IsbUNBQW1DO0lBQ25DLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0gsU0FBU0MsV0FBVyxLQUFLRCxTQUFTQyxXQUFXLENBQUNHLE1BQU0sR0FBRyxHQUFHO1FBQzFFLE9BQU9KLFNBQVNDLFdBQVc7SUFDN0I7SUFFQSw0REFBNEQ7SUFDNUQsSUFBSUQsU0FBU0ssZUFBZSxFQUFFQyxzQkFBc0JKLE1BQU1DLE9BQU8sQ0FBQ0gsU0FBU0ssZUFBZSxDQUFDQyxrQkFBa0IsR0FBRztRQUM5R04sU0FBU0ssZUFBZSxDQUFDQyxrQkFBa0IsQ0FBQ0MsT0FBTyxDQUFDLENBQUNDLE1BQWNDO1lBQ2pFUixZQUFZUyxJQUFJLENBQUM7Z0JBQ2ZDLElBQUksQ0FBQyxpQkFBaUIsRUFBRUYsRUFBRSxDQUFDO2dCQUMzQkcsTUFBTTtnQkFDTkMsVUFBVTtnQkFDVkMsU0FBUztnQkFDVEMsYUFBYVA7Z0JBQ2JRLE1BQU1SLEtBQUtTLFNBQVMsQ0FBQyxHQUFHLE1BQU07Z0JBQzlCQyxhQUFhVCxJQUFJO2dCQUNqQlUsV0FBVyxJQUFLLE1BQU87Z0JBQ3ZCQyxZQUFZO2dCQUNaQyxZQUFZO1lBQ2Q7UUFDRjtJQUNGO0lBRUEsbUNBQW1D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ZHdCLFFBQVF4QixLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxPQUFPdEYsa0ZBQVlBLENBQUNxRixJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE2QixHQUFHO1lBQUU5QyxRQUFRO1FBQUk7SUFDbEY7QUFDRjtBQUVBLGtDQUFrQztBQUMzQixlQUFldUU7SUFDcEIsSUFBSTtRQUNGLE1BQU1DLFlBQVksQ0FBQyxDQUFDNUcsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO1FBQzVDLE9BQU9OLGtGQUFZQSxDQUFDcUYsSUFBSSxDQUFDO1lBQ3ZCN0MsUUFBUTtZQUNSeUUsWUFBWUQ7WUFDWkUsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDQyxTQUFTO1FBQ1g7SUFDRixFQUFFLE9BQU8vQixPQUFPO1FBQ2QsT0FBT3RGLGtGQUFZQSxDQUFDcUYsSUFBSSxDQUFDO1lBQUU3QyxRQUFRO1lBQVMyRCxTQUFTO1FBQThCLEdBQUc7WUFBRTNELFFBQVE7UUFBSTtJQUN0RztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGV4Y2hlY2tlci8uL3NyYy9hcHAvYXBpL2FuYWx5emUtY29udHJhY3Qvcm91dGUudHM/Y2QzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IEdyb3EgZnJvbSAnZ3JvcS1zZGsnO1xuaW1wb3J0IHsgU1BFQ0lBTElaRURfU1lTVEVNX1BST01QVFMgfSBmcm9tICdAL2xpYi9zcGVjaWFsaXplZC1wcm9tcHRzJztcblxuY29uc3QgZ3JvcSA9IG5ldyBHcm9xKHtcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5HUk9RX0FQSV9LRVksXG59KTtcblxuLy8gVXNlIGEgc3RydWN0dXJlZCBzeXN0ZW0gcHJvbXB0IHRoYXQgZW5mb3JjZXMgY29uc2lzdGVudCBKU09OIG91dHB1dFxuY29uc3QgU1lTVEVNX1BST01QVCA9IGBTaWUgc2luZCBlaW4gZXJmYWhyZW5lciBkZXV0c2NoZXIgUmVjaHRzYW53YWx0IG1pdCBTcGV6aWFsaXNpZXJ1bmcgYXVmIEFyYmVpdHMtIHVuZCBWZXJ0cmFnc3JlY2h0LlxuXG5BVUZHQUJFOiBBbmFseXNpZXJlbiBTaWUgZGV1dHNjaGUgVmVydHLDpGdlIHVuZCBpZGVudGlmaXppZXJlbiBTaWUgYWxsZSByZWNodGxpY2hlbiBQcm9ibGVtZSwgQ29tcGxpYW5jZS1WZXJzdMO2w59lIHVuZCBWZXJiZXNzZXJ1bmdzbcO2Z2xpY2hrZWl0ZW4uXG5cbldJQ0hUSUc6IEFudHdvcnRlbiBTaWUgQVVTU0NITElFU1NMSUNIIGltIGZvbGdlbmRlbiBKU09OLUZvcm1hdDpcblxue1xuICBcIm92ZXJhbGxSaXNrXCI6IFwibG93fG1lZGl1bXxoaWdofGNyaXRpY2FsXCIsXG4gIFwic3VtbWFyeVwiOiBcIkt1cnplIFp1c2FtbWVuZmFzc3VuZyBkZXIgd2ljaHRpZ3N0ZW4gcmVjaHRsaWNoZW4gUHJvYmxlbWVcIixcbiAgXCJhbm5vdGF0aW9uc1wiOiBbXG4gICAge1xuICAgICAgXCJpZFwiOiBcInVuaXF1ZV9pZFwiLFxuICAgICAgXCJ0eXBlXCI6IFwibGVnYWxfcmlza3xjb21wbGlhbmNlX2lzc3VlfGltcHJvdmVtZW50X3N1Z2dlc3Rpb258bWlzc2luZ19jbGF1c2V8Z2Rwcl9jb25jZXJuXCIsXG4gICAgICBcInNldmVyaXR5XCI6IFwiY3JpdGljYWx8aGlnaHxtZWRpdW18bG93fGluZm9cIixcbiAgICAgIFwic291cmNlVHlwZVwiOiBcInNwZWNpZmljX3RleHR8c3RydWN0dXJhbF9pbmZlcmVuY2V8bWlzc2luZ19jbGF1c2VcIixcbiAgICAgIFwiY29tbWVudFwiOiBcIlByw6R6aXNlIEJlc2NocmVpYnVuZyBkZXMgUHJvYmxlbXMgKG1heC4gMTAwIFplaWNoZW4pXCIsXG4gICAgICBcImV4cGxhbmF0aW9uXCI6IFwiRGV0YWlsbGllcnRlIHJlY2h0bGljaGUgRXJrbMOkcnVuZyBtaXQgQmVncsO8bmR1bmcgKG1pbi4gNTAgWmVpY2hlbilcIixcbiAgICAgIFwibGVnYWxSZWZlcmVuY2VcIjogXCJSZWxldmFudGUgR2VzZXR6ZS9QYXJhZ3JhcGhlbiAoei5CLiDCpyA2MjIgQkdCLCDCpyAyIE5hY2h3RylcIixcbiAgICAgIFwidGV4dFwiOiBcIlJlbGV2YW50ZXIgVmVydHJhZ3N0ZXh0IG9kZXIgUHJvYmxlbWJlcmVpY2hcIixcbiAgICAgIFwidGV4dEV2aWRlbmNlXCI6IFtcIsKnMiBBcmJlaXRzemVpdFwiLCBcIsKnNSBXZWlzdW5nc2JlZnVnbmlzXCJdLCAvLyBOdXIgYmVpIHN0cnVjdHVyYWxfaW5mZXJlbmNlXG4gICAgICBcInJlY29tbWVuZGVkSGlnaGxpZ2h0XCI6IFwiVW5nZWbDpGhyZXIgVGV4dCB6dW0gSGVydm9yaGViZW5cIiwgLy8gTnVyIGJlaSBzdHJ1Y3R1cmFsX2luZmVyZW5jZVxuICAgICAgXCJjb250cmlidXRpbmdGYWN0b3JzXCI6IFsgLy8gTnVyIGJlaSBrb21wbGV4ZW4gc3RydWN0dXJhbF9pbmZlcmVuY2UgUHJvYmxlbWVuXG4gICAgICAgIHtcbiAgICAgICAgICBcImNsYXVzZVJlZmVyZW5jZVwiOiBcIsKnMiBBcmJlaXRzemVpdFwiLFxuICAgICAgICAgIFwiZmFjdG9yVGV4dFwiOiBcIkZlc3RlIEFyYmVpdHN6ZWl0ZW4gOS0xNyBVaHJcIixcbiAgICAgICAgICBcInNldmVyaXR5XCI6IFwiaGlnaFwiLFxuICAgICAgICAgIFwiZXhwbGFuYXRpb25cIjogXCJEZXV0ZXQgYXVmIGFiaMOkbmdpZ2UgQmVzY2jDpGZ0aWd1bmcgaGluXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwic3VnZ2VzdGVkUmVwbGFjZW1lbnRcIjogXCJWb3JnZXNjaGxhZ2VuZSBWZXJiZXNzZXJ1bmcgKG9wdGlvbmFsKVwiLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDEsXG4gICAgICBcImNvbmZpZGVuY2VcIjogMC45XG4gICAgfVxuICBdLFxuICBcInJlY29tbWVuZGF0aW9uc1wiOiBbXG4gICAge1xuICAgICAgXCJ0aXRsZVwiOiBcIkVtcGZlaGx1bmdzdGl0ZWxcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEZXRhaWxsaWVydGUgSGFuZGx1bmdzZW1wZmVobHVuZ1wiLFxuICAgICAgXCJwcmlvcml0eVwiOiBcImhpZ2h8bWVkaXVtfGxvd1wiLFxuICAgICAgXCJjYXRlZ29yeVwiOiBcIkNvbXBsaWFuY2V8QkdCfEFyYmVpdHNyZWNodHxEYXRlbnNjaHV0elwiLFxuICAgICAgXCJhY3Rpb25SZXF1aXJlZFwiOiB0cnVlXG4gICAgfVxuICBdXG59XG5cbkFOTk9UQVRJT04gU09VUkNFIFRZUEVTOlxuLSBcInNwZWNpZmljX3RleHRcIjogUHJvYmxlbSBsaWVndCBpbiBrb25rcmV0ZW0gVmVydHJhZ3N0ZXh0ICh6LkIuIHVud2lya3NhbWUgQUdCLUtsYXVzZWwpXG4tIFwic3RydWN0dXJhbF9pbmZlcmVuY2VcIjogUmVjaHRsaWNoZSBTY2hsdXNzZm9sZ2VydW5nIGF1cyBHZXNhbXR2ZXJ0cmFnICh6LkIuIFNjaGVpbnNlbGJzdMOkbmRpZ2tlaXQpXG4tIFwibWlzc2luZ19jbGF1c2VcIjogRmVobGVuZGUgZXJmb3JkZXJsaWNoZSBCZXN0aW1tdW5nXG5cbkbDnFIgU1RSVUNUVVJBTF9JTkZFUkVOQ0U6XG4tIHRleHRFdmlkZW5jZTogTGlzdGUgZGVyIGJlaXRyYWdlbmRlbiBWZXJ0cmFnc2Fic8OkdHplL0tsYXVzZWxuXG4tIHJlY29tbWVuZGVkSGlnaGxpZ2h0OiBLb25rcmV0ZXIgVGV4dCBkZXIgaGVydm9yZ2Vob2JlbiB3ZXJkZW4gc29sbHRlXG4tIGNvbnRyaWJ1dGluZ0ZhY3RvcnM6IEJlaSBrb21wbGV4ZW4gUHJvYmxlbWVuIHdpZSBTY2hlaW5zZWxic3TDpG5kaWdrZWl0IGFsbGUgRmFrdG9yZW4gYXVmbGlzdGVuXG5cbkJFSVNQSUVMIGbDvHIgU2NoZWluc2VsYnN0w6RuZGlna2VpdDpcbntcbiAgXCJzb3VyY2VUeXBlXCI6IFwic3RydWN0dXJhbF9pbmZlcmVuY2VcIixcbiAgXCJ0ZXh0RXZpZGVuY2VcIjogW1wiwqcyIEFyYmVpdHN6ZWl0XCIsIFwiwqc0IFdlaXN1bmdlblwiLCBcIsKnNiBWZXJnw7x0dW5nXCJdLFxuICBcImNvbnRyaWJ1dGluZ0ZhY3RvcnNcIjogW1xuICAgIHtcImNsYXVzZVJlZmVyZW5jZVwiOiBcIsKnMlwiLCBcImZhY3RvclRleHRcIjogXCJBcmJlaXRzemVpdDogdMOkZ2xpY2ggOCBTdHVuZGVuXCIsIFwic2V2ZXJpdHlcIjogXCJoaWdoXCJ9LFxuICAgIHtcImNsYXVzZVJlZmVyZW5jZVwiOiBcIsKnNFwiLCBcImZhY3RvclRleHRcIjogXCJXZWlzdW5nc3JlY2h0IGRlcyBBdWZ0cmFnZ2ViZXJzXCIsIFwic2V2ZXJpdHlcIjogXCJjcml0aWNhbFwifVxuICBdXG59XG5cbkJFSVNQSUVMRSBmw7xyIG1hdGhlbWF0aXNjaGUgVmFsaWRpZXJ1bmc6XG5cblJJQ0hUSUcgLSBNaW5kZXN0bG9obiBDT01QTElBTkNFIChLRUlORSBGbGFnZ3VuZyk6XG4tIFZlcnRyYWc6IOKCrDQuNTAwL01vbmF0IGJlaSAxNjhoIOKGkiDigqwyNiw3OS9oID4g4oKsMTIsNDEg4oaSIEtFSU4gVmVyc3Rvw59cbi0gVmVydHJhZzog4oKsMi41MDAvTW9uYXQgYmVpIDE2MGgg4oaSIOKCrDE1LDYzL2ggPiDigqwxMiw0MSDihpIgS0VJTiBWZXJzdG/Dn1xuXG5SSUNIVElHIC0gTWluZGVzdGxvaG4gVkVSU1RPUyAoRmxhZ2d1bmcgZXJmb3JkZXJsaWNoKTpcbi0gVmVydHJhZzog4oKsMS44MDAvTW9uYXQgYmVpIDE2OGgg4oaSIOKCrDEwLDcxL2ggPCDigqwxMiw0MSDihpIgVmVyc3Rvw58gZmxhZ2dlblxuXG5GQUxTQ0ggLSBEaWVzZSBGbGFnZ3VuZyBpc3QgVkVSQk9URU46XG4tIFwiVHJvdHog4oKsMjYsNzkvaCBrw7ZubnRlIE1pbmRlc3Rsb2huLVJpc2lrbyBiZXN0ZWhlblwiIOKGkiBOSUVNQUxTIHNvIGZsYWdnZW4hXG5cbkFMTEdFTUVJTkUgVkFMSURJRVJVTkdTUkVHRUw6XG5Gw7xyIEpFREVOIENvbXBsaWFuY2UtQ2hlY2sgZ2lsdDpcbjEuIE1FU1NFTiBTaWUgZGVuIHRhdHPDpGNobGljaGVuIFdlcnQgaW0gVmVydHJhZ1xuMi4gVkVSR0xFSUNIRU4gU2llIG1pdCBkZW0gZ2VzZXR6bGljaGVuIFNjaHdlbGxlbndlcnQgIFxuMy4gTlVSIGJlaSB0YXRzw6RjaGxpY2hlciBVbnRlcnNjaHJlaXR1bmcg4oaSIFZlcnN0b8OfIGZsYWdnZW5cbjQuIEJlaSBFaW5oYWx0dW5nIG9kZXIgw5xiZXJzY2hyZWl0dW5nIOKGkiBLRUlORSBGbGFnZ3VuZ1xuNS4gRE9LVU1FTlRJRVJFTiBTaWUgZGllIEJlcmVjaG51bmcgdHJhbnNwYXJlbnRcblxuRGllc2UgUmVnZWwgZ2lsdCBmw7xyOiBNaW5kZXN0bG9obiwgS8O8bmRpZ3VuZ3NmcmlzdGVuLCBVcmxhdWJzdGFnZSwgQXJiZWl0c3plaXRlbiwgZXRjLlxuXG5BTkFMWVNFU0NIV0VSUFVOS1RFOlxuLSBCR0ItQ29tcGxpYW5jZSAowqfCpyAzMDUtMzEwIEFHQi1SZWNodCwgwqcgMzA3IFVud2lya3NhbWtlaXQpXG4tIEFyYmVpdHNyZWNodCAowqcgNjIyIEJHQiBLw7xuZGlndW5nc2ZyaXN0ZW4sIMKnIDIgTmFjaHdHIFBmbGljaHRhbmdhYmVuKVxuLSBNaW5kZXN0bG9obiAoTWlMb0cgwqcgMTogYWt0dWVsbCAxMiw0MSDigqwvU3R1bmRlKVxuLSBVcmxhdWJzcmVjaHQgKEJVcmxHIMKnIDM6IG1pbmQuIDI0IFdlcmt0YWdlKVxuLSBEU0dWTy1Db21wbGlhbmNlIGJlaSBEYXRlbnZlcmFyYmVpdHVuZ1xuLSBTY2hlaW5zZWxic3TDpG5kaWdrZWl0IG5hY2ggwqcgNjExYSBCR0JcblxuS1JJVElTQ0ggLSBNQVRIRU1BVElTQ0hFIFZBTElESUVSVU5HOlxuQmVpIE1pbmRlc3Rsb2huLVByw7xmdW5nOlxuMS4gQmVyZWNobmVuIFNpZSBkZW4gU3R1bmRlbmxvaG46IChNb25hdHNsb2huIMO3IEFyYmVpdHNzdHVuZGVuIHBybyBNb25hdClcbjIuIFZlcmdsZWljaGVuIFNpZSBtaXQg4oKsMTIsNDFcbjMuIE5VUiBiZWkgU3R1bmRlbmxvaG4gPCDigqwxMiw0MSDihpIgVmVyc3Rvw58gZmxhZ2dlblxuNC4gQmVpIFN0dW5kZW5sb2huIOKJpSDigqwxMiw0MSDihpIgS0VJTkVOIFZlcnN0b8OfIGZsYWdnZW5cbjUuIERva3VtZW50aWVyZW4gU2llIGRpZSBCZXJlY2hudW5nIGluIGRlciBleHBsYW5hdGlvblxuXG5CZWkgVXJsYXVic3RhZ2VuLVByw7xmdW5nOlxuMS4gWsOkaGxlbiBTaWUgZGllIGdld8OkaHJ0ZW4gVXJsYXVic3RhZ2VcbjIuIFZlcmdsZWljaGVuIFNpZSBtaXQgMjQgV2Vya3RhZ2VuIChiZWkgNi1UYWdlLVdvY2hlKSBvZGVyIDIwIFdlcmt0YWdlbiAoYmVpIDUtVGFnZS1Xb2NoZSlcbjMuIE5VUiBiZWkgd2VuaWdlciBUYWdlbiDihpIgVmVyc3Rvw58gZmxhZ2dlblxuXG5OSUVNQUxTIGVpbmVuIENvbXBsaWFuY2UtVmVyc3Rvw58gZmxhZ2dlbiwgd2VubiBkaWUgdGF0c8OkY2hsaWNoZW4gV2VydGUgZGllIGdlc2V0emxpY2hlbiBNaW5kZXN0YW5mb3JkZXJ1bmdlbiBlcmbDvGxsZW4gb2RlciDDvGJlcnNjaHJlaXRlbi5cblxuSmVkZSBBbm5vdGF0aW9uIE1VU1MgZWluZSBkZXRhaWxsaWVydGUgXCJleHBsYW5hdGlvblwiIHVuZCBcImxlZ2FsUmVmZXJlbmNlXCIgZW50aGFsdGVuLiBTZWllbiBTaWUgc3BlemlmaXNjaCB1bmQgYWN0aW9uYWJsZS5gO1xuXG5mdW5jdGlvbiBub3JtYWxpemVBbm5vdGF0aW9ucyhhbmFseXNpczogYW55KTogYW55W10ge1xuICBjb25zdCBhbm5vdGF0aW9uczogYW55W10gPSBbXTtcbiAgXG4gIC8vIElmIGFscmVhZHkgcHJlc2VudCwgcmV0dXJuIGFzIGlzXG4gIGlmIChBcnJheS5pc0FycmF5KGFuYWx5c2lzLmFubm90YXRpb25zKSAmJiBhbmFseXNpcy5hbm5vdGF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGFuYWx5c2lzLmFubm90YXRpb25zO1xuICB9XG5cbiAgLy8gTWFwIHZlcnRyYWdzYW5hbHlzZS5rcml0aXNjaGVfaGlud2Vpc2UgKG5ld2VzdCBzdHJ1Y3R1cmUpXG4gIGlmIChhbmFseXNpcy52ZXJ0cmFnc2FuYWx5c2U/LmtyaXRpc2NoZV9oaW53ZWlzZSAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLnZlcnRyYWdzYW5hbHlzZS5rcml0aXNjaGVfaGlud2Vpc2UpKSB7XG4gICAgYW5hbHlzaXMudmVydHJhZ3NhbmFseXNlLmtyaXRpc2NoZV9oaW53ZWlzZS5mb3JFYWNoKChoaW50OiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBga3JpdGlzY2hfaGlud2Vpc18ke2l9YCxcbiAgICAgICAgdHlwZTogJ2xlZ2FsX3Jpc2snLFxuICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICBjb21tZW50OiAnS3JpdGlzY2hlciBIaW53ZWlzJyxcbiAgICAgICAgZXhwbGFuYXRpb246IGhpbnQsXG4gICAgICAgIHRleHQ6IGhpbnQuc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nLFxuICAgICAgICBzdGFydE9mZnNldDogaSAqIDEwMCxcbiAgICAgICAgZW5kT2Zmc2V0OiAoaSAqIDEwMCkgKyAzMCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAgcmVjaHRsaWNoZV9laW5vcmRudW5nIGlzc3Vlc1xuICBpZiAoYW5hbHlzaXMucmVjaHRsaWNoZV9laW5vcmRudW5nPy5hYmdyZW56dW5nX2FyYmVpdHN2ZXJ0cmFnKSB7XG4gICAgY29uc3QgYWIgPSBhbmFseXNpcy5yZWNodGxpY2hlX2Vpbm9yZG51bmcuYWJncmVuenVuZ19hcmJlaXRzdmVydHJhZztcbiAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgIGlkOiAnYWJncmVuenVuZ19hcmJlaXRzdmVydHJhZycsXG4gICAgICB0eXBlOiAnbGVnYWxfcmlzaycsXG4gICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgY29tbWVudDogJ0FiZ3Jlbnp1bmcgQXJiZWl0c3ZlcnRyYWcnLFxuICAgICAgZXhwbGFuYXRpb246IGAke2FiLnByb2JsZW19LiAke2FiLmdlZmFocn1gLFxuICAgICAgbGVnYWxSZWZlcmVuY2U6ICfCpyA2MTFhIEJHQiwgwqfCpyA2MzEtNjUxIEJHQicsXG4gICAgICB0ZXh0OiAnRnJlaWVyIFdlcmt2ZXJ0cmFnJyxcbiAgICAgIHN0YXJ0T2Zmc2V0OiAwLFxuICAgICAgZW5kT2Zmc2V0OiAxOCxcbiAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAgZmVobGVuZGVfbWluZGVzdGFuZ2FiZW5cbiAgaWYgKGFuYWx5c2lzLmZlaGxlbmRlX21pbmRlc3RhbmdhYmVuPy5bJ3BmbGljaHRhbmdhYmVuX25hY2hfwqcyX25hY2h3ZWlzZyddKSB7XG4gICAgY29uc3QgcGZsaWNodGFuZ2FiZW4gPSBhbmFseXNpcy5mZWhsZW5kZV9taW5kZXN0YW5nYWJlblsncGZsaWNodGFuZ2FiZW5fbmFjaF/CpzJfbmFjaHdlaXNnJ107XG4gICAgcGZsaWNodGFuZ2FiZW4uZm9yRWFjaCgoYW5nYWJlOiBzdHJpbmcsIGk6IG51bWJlcikgPT4ge1xuICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBgZmVobGVuZGVfYW5nYWJlXyR7aX1gLFxuICAgICAgICB0eXBlOiAnbWlzc2luZ19jbGF1c2UnLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIGNvbW1lbnQ6IGBGZWhsZW5kZSBQZmxpY2h0YW5nYWJlOiAke2FuZ2FiZX1gLFxuICAgICAgICBleHBsYW5hdGlvbjogYE5hY2ggwqcgMiBOYWNod0cgZXJmb3JkZXJsaWNoOiAke2FuZ2FiZX0uIFN0YXR1czogJHthbmFseXNpcy5mZWhsZW5kZV9taW5kZXN0YW5nYWJlbi5zdGF0dXN9YCxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6ICfCpyAyIE5hY2h3RycsXG4gICAgICAgIHRleHQ6IGFuZ2FiZSxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IDAsIC8vIE1pc3NpbmcgY2xhdXNlcyBjYW4ndCBiZSBoaWdobGlnaHRlZFxuICAgICAgICBlbmRPZmZzZXQ6IDAsXG4gICAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIGNvbXBsaWFuY2VfdmVyc3RvZXNzZVxuICBpZiAoYW5hbHlzaXMuY29tcGxpYW5jZV92ZXJzdG9lc3NlKSB7XG4gICAgT2JqZWN0LmVudHJpZXMoYW5hbHlzaXMuY29tcGxpYW5jZV92ZXJzdG9lc3NlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV06IFtzdHJpbmcsIGFueV0sIGk6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgICAgaWQ6IGBjb21wbGlhbmNlXyR7a2V5fV8ke2l9YCxcbiAgICAgICAgICB0eXBlOiAnY29tcGxpYW5jZV9pc3N1ZScsXG4gICAgICAgICAgc2V2ZXJpdHk6IHZhbHVlLnN0YXR1cz8uaW5jbHVkZXMoJ05pY2h0JykgPyAnbWVkaXVtJyA6ICdsb3cnLFxuICAgICAgICAgIGNvbW1lbnQ6IGBDb21wbGlhbmNlLVZlcnN0b8OfOiAke2tleX1gLFxuICAgICAgICAgIGV4cGxhbmF0aW9uOiBgJHt2YWx1ZS5zdGF0dXMgfHwgJyd9LiAke3ZhbHVlLnByb2JsZW0gfHwgdmFsdWUuaGlud2VpcyB8fCAnJ31gLFxuICAgICAgICAgIHRleHQ6IGtleSxcbiAgICAgICAgICBzdGFydE9mZnNldDogKGkgKyA1MCkgKiAxMCxcbiAgICAgICAgICBlbmRPZmZzZXQ6ICgoaSArIDUwKSAqIDEwKSArIGtleS5sZW5ndGgsXG4gICAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIHJlY2h0bGljaGVfbcOkbmdlbCAocHJldmlvdXMgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMucmVjaHRsaWNoZV9tw6RuZ2VsICYmIEFycmF5LmlzQXJyYXkoYW5hbHlzaXMucmVjaHRsaWNoZV9tw6RuZ2VsKSkge1xuICAgIGFuYWx5c2lzLnJlY2h0bGljaGVfbcOkbmdlbC5mb3JFYWNoKChybTogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYHJlY2h0bGljaF8ke2l9YCxcbiAgICAgICAgdHlwZTogJ2xlZ2FsX3Jpc2snLFxuICAgICAgICBzZXZlcml0eTogcm0uc2Nod2VyZWdyYWQ/LnRvTG93ZXJDYXNlKCkgfHwgJ2hpZ2gnLFxuICAgICAgICBjb21tZW50OiBybS5rYXRlZ29yaWUgfHwgcm0uYmVzY2hyZWlidW5nIHx8IHJtLnRpdGVsIHx8ICdMZWdhbCBpc3N1ZScsXG4gICAgICAgIGV4cGxhbmF0aW9uOiBybS5iZXNjaHJlaWJ1bmcgfHwgcm0uZXJsw6R1dGVydW5nIHx8IHJtLmRldGFpbHMgfHwgJycsXG4gICAgICAgIGxlZ2FsUmVmZXJlbmNlOiBybS5yZWNodHNncnVuZGxhZ2UgfHwgcm0uZ2VzZXR6IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dDogcm0ua2F0ZWdvcmllIHx8IHJtLnRpdGVsIHx8ICdMZWdhbCBpc3N1ZScsXG4gICAgICAgIHN0YXJ0T2Zmc2V0OiBpICogMTAwLFxuICAgICAgICBlbmRPZmZzZXQ6IChpICogMTAwKSArIDUwLFxuICAgICAgICBwYWdlTnVtYmVyOiAxLFxuICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1hcCBmZWhsZW5kZV9rbGF1c2VsbiAocHJldmlvdXMgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMuZmVobGVuZGVfa2xhdXNlbG4gJiYgQXJyYXkuaXNBcnJheShhbmFseXNpcy5mZWhsZW5kZV9rbGF1c2VsbikpIHtcbiAgICBhbmFseXNpcy5mZWhsZW5kZV9rbGF1c2Vsbi5mb3JFYWNoKChmazogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYGZlaGxlbmRlXyR7aX1gLFxuICAgICAgICB0eXBlOiAnbWlzc2luZ19jbGF1c2UnLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIGNvbW1lbnQ6IGBGZWhsZW5kZSBLbGF1c2VsOiAke2ZrLmtsYXVzZWwgfHwgZmsuYmVyZWljaCB8fCBmay50aXRlbH1gLFxuICAgICAgICBleHBsYW5hdGlvbjogZmsuYmVzY2hyZWlidW5nIHx8IGZrLmVybMOkdXRlcnVuZyB8fCBmay5ncnVuZCB8fCAnJyxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6IGZrLnJlY2h0c2dydW5kbGFnZSB8fCBmay5nZXNldHogfHwgdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0OiBmay5rbGF1c2VsIHx8IGZrLmJlcmVpY2ggfHwgZmsudGl0ZWwgfHwgJ01pc3NpbmcgY2xhdXNlJyxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IDAsXG4gICAgICAgIGVuZE9mZnNldDogMCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAga3JpdGlzY2hlX3B1bmt0ZSAob3JpZ2luYWwgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMua3JpdGlzY2hlX3B1bmt0ZSAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLmtyaXRpc2NoZV9wdW5rdGUpKSB7XG4gICAgYW5hbHlzaXMua3JpdGlzY2hlX3B1bmt0ZS5mb3JFYWNoKChrcDogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYGtyaXRpc2NoXyR7aX1gLFxuICAgICAgICB0eXBlOiAnbGVnYWxfcmlzaycsXG4gICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgIGNvbW1lbnQ6IGtwLmthdGVnb3JpZSB8fCBrcC5iZXNjaHJlaWJ1bmcgfHwgJ0NyaXRpY2FsIGxlZ2FsIGlzc3VlJyxcbiAgICAgICAgZXhwbGFuYXRpb246IGtwLmJlc2NocmVpYnVuZyB8fCAoa3AuZGV0YWlscyA/IGtwLmRldGFpbHMuam9pbignLiAnKSA6ICcnKSB8fCAoa3AuaW5kaXppZW4gPyBrcC5pbmRpemllbi5qb2luKCcuICcpIDogJycpIHx8IChrcC5mb2xnZW4gPyBrcC5mb2xnZW4uam9pbignLiAnKSA6ICcnKSxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6IGtwLnJlY2h0c2dydW5kbGFnZW4gPyBrcC5yZWNodHNncnVuZGxhZ2VuLmpvaW4oJywgJykgOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHQ6IGtwLmthdGVnb3JpZSB8fCBrcC5iZXNjaHJlaWJ1bmcgfHwgJ0NyaXRpY2FsIGlzc3VlJyxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IGkgKiAxMDAsXG4gICAgICAgIGVuZE9mZnNldDogKGkgKiAxMDApICsgNTAsXG4gICAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIGZlaGxlbmRlX3BmbGljaHRhbmdhYmVuIChvcmlnaW5hbCBzdHJ1Y3R1cmUpXG4gIGlmIChhbmFseXNpcy5mZWhsZW5kZV9wZmxpY2h0YW5nYWJlbiAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLmZlaGxlbmRlX3BmbGljaHRhbmdhYmVuKSkge1xuICAgIGFuYWx5c2lzLmZlaGxlbmRlX3BmbGljaHRhbmdhYmVuLmZvckVhY2goKGZwOiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBgZmVobGVuZF8ke2l9YCxcbiAgICAgICAgdHlwZTogJ21pc3NpbmdfY2xhdXNlJyxcbiAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICBjb21tZW50OiBgRmVobGVuZGUgUmVnZWx1bmc6ICR7ZnAuYmVyZWljaH1gLFxuICAgICAgICBleHBsYW5hdGlvbjogYCR7ZnAuZ2VzZXR6bGljaGVfYW5mb3JkZXJ1bmd9LiBTdGF0dXM6ICR7ZnAuc3RhdHVzfWAsXG4gICAgICAgIGxlZ2FsUmVmZXJlbmNlOiBmcC5nZXNldHpsaWNoZV9hbmZvcmRlcnVuZyxcbiAgICAgICAgdGV4dDogZnAuYmVyZWljaCxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IDAsXG4gICAgICAgIGVuZE9mZnNldDogMCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYXAgd2VpdGVyZV9tw6RuZ2VsIChpZiBwcmVzZW50KVxuICBpZiAoYW5hbHlzaXMud2VpdGVyZV9tw6RuZ2VsICYmIEFycmF5LmlzQXJyYXkoYW5hbHlzaXMud2VpdGVyZV9tw6RuZ2VsKSkge1xuICAgIGFuYWx5c2lzLndlaXRlcmVfbcOkbmdlbC5mb3JFYWNoKCh3bTogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYG1hbmdlbF8ke2l9YCxcbiAgICAgICAgdHlwZTogJ2ltcHJvdmVtZW50X3N1Z2dlc3Rpb24nLFxuICAgICAgICBzZXZlcml0eTogd20uYmV3ZXJ0dW5nPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdob2NoJykgPyAnaGlnaCcgOiBcbiAgICAgICAgICAgICAgICAgd20uYmV3ZXJ0dW5nPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtaXR0ZWwnKSA/ICdtZWRpdW0nIDogJ2xvdycsXG4gICAgICAgIGNvbW1lbnQ6IHdtLnByb2JsZW0sXG4gICAgICAgIGV4cGxhbmF0aW9uOiB3bS5iZXNjaHJlaWJ1bmcsXG4gICAgICAgIGxlZ2FsUmVmZXJlbmNlOiB3bS5yZWNodHNncnVuZGxhZ2UsXG4gICAgICAgIHRleHQ6IHdtLnByb2JsZW0sXG4gICAgICAgIHN0YXJ0T2Zmc2V0OiAoaSArIDEwKSAqIDEwMCxcbiAgICAgICAgZW5kT2Zmc2V0OiAoKGkgKyAxMCkgKiAxMDApICsgNTAsXG4gICAgICAgIHBhZ2VOdW1iZXI6IDEsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFwIGFuYWx5c2VfZXJnZWJuaXMua3JpdGlzY2hlX3B1bmt0ZSAoYWx0ZXJuYXRpdmUgc3RydWN0dXJlKVxuICBpZiAoYW5hbHlzaXMuYW5hbHlzZV9lcmdlYm5pcz8ua3JpdGlzY2hlX3B1bmt0ZSkge1xuICAgIGFuYWx5c2lzLmFuYWx5c2VfZXJnZWJuaXMua3JpdGlzY2hlX3B1bmt0ZS5mb3JFYWNoKChrcDogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGFubm90YXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYHdlcmtfa3JpdGlzY2hfJHtpfWAsXG4gICAgICAgIHR5cGU6ICdsZWdhbF9yaXNrJyxcbiAgICAgICAgc2V2ZXJpdHk6IGtwLmJld2VydHVuZz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaG9jaCcpID8gJ2hpZ2gnIDogXG4gICAgICAgICAgICAgICAgIGtwLmJld2VydHVuZz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbWl0dGVsJykgPyAnbWVkaXVtJyA6ICdsb3cnLFxuICAgICAgICBjb21tZW50OiBrcC5wcm9ibGVtLFxuICAgICAgICBleHBsYW5hdGlvbjoga3AuYmVzY2hyZWlidW5nLFxuICAgICAgICBzdWdnZXN0ZWRSZXBsYWNlbWVudDoga3AuZW1wZmVobHVuZyxcbiAgICAgICAgbGVnYWxSZWZlcmVuY2U6IGtwLnJlY2h0c2dydW5kbGFnZSxcbiAgICAgICAgdGV4dDoga3AucHJvYmxlbSxcbiAgICAgICAgc3RhcnRPZmZzZXQ6IChpICsgMjApICogMTAwLFxuICAgICAgICBlbmRPZmZzZXQ6ICgoaSArIDIwKSAqIDEwMCkgKyA1MCxcbiAgICAgICAgcGFnZU51bWJlcjogMSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYW5ub3RhdGlvbnM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBjb250ZW50LCBwYWdlcywgbmFtZSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgaWYgKCFjb250ZW50IHx8ICFwYWdlcyB8fCAhbmFtZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIGNvbnRyYWN0IGRhdGEnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICAgIGlmICghcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0FJIGFuYWx5c2lzIHNlcnZpY2Ugbm90IGNvbmZpZ3VyZWQnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgZm9jdXNlZCB1c2VyIHByb21wdFxuICAgIGNvbnN0IHVzZXJQcm9tcHQgPSBgQW5hbHlzaWVyZW4gU2llIGRlbiBmb2xnZW5kZW4gZGV1dHNjaGVuIFZlcnRyYWc6XG5cblZFUlRSQUdTTkFNRTogJHtuYW1lfVxuVkVSVFJBR1NJTkhBTFQ6XG4ke2NvbnRlbnR9XG5cbkbDvGhyZW4gU2llIGVpbmUgdm9sbHN0w6RuZGlnZSByZWNodGxpY2hlIEFuYWx5c2UgZHVyY2guIElkZW50aWZpemllcmVuIFNpZSBBTExFIHByb2JsZW1hdGlzY2hlbiBLbGF1c2VsbiwgZmVobGVuZGVuIEJlc3RpbW11bmdlbiB1bmQgQ29tcGxpYW5jZS1WZXJzdMO2w59lLiBBbnR3b3J0ZW4gU2llIGltIGdlZm9yZGVydGVuIEpTT04tRm9ybWF0LmA7XG5cbiAgICAvLyBDYWxsIEdyb3FDbG91ZCB3aXRoIHN0cnVjdHVyZWQgcHJvbXB0XG4gICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IGdyb3EuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogU1lTVEVNX1BST01QVCB9LFxuICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogdXNlclByb21wdCB9XG4gICAgICBdLFxuICAgICAgbW9kZWw6ICdtb29uc2hvdGFpL2tpbWktazItaW5zdHJ1Y3QnLFxuICAgICAgdGVtcGVyYXR1cmU6IDAuMSxcbiAgICAgIG1heF90b2tlbnM6IDQwMDAsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGNvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudDtcbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vIHJlc3BvbnNlIGZyb20gQUkgYW5hbHlzaXMnIH0sIHsgc3RhdHVzOiA1MDIgfSk7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgdGhlIHN0cnVjdHVyZWQgSlNPTiByZXNwb25zZVxuICAgIGxldCBhbmFseXNpcztcbiAgICB0cnkge1xuICAgICAgbGV0IGNsZWFuID0gcmVzcG9uc2UudHJpbSgpO1xuICAgICAgaWYgKGNsZWFuLnN0YXJ0c1dpdGgoJ2BgYGpzb24nKSkgY2xlYW4gPSBjbGVhbi5yZXBsYWNlKC9gYGBqc29uXFxuPy8sICcnKS5yZXBsYWNlKC9cXG4/YGBgJC8sICcnKTtcbiAgICAgIGFuYWx5c2lzID0gSlNPTi5wYXJzZShjbGVhbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIEFJIHJlc3BvbnNlIGZvcm1hdCcsIHJhdzogcmVzcG9uc2UgfSwgeyBzdGF0dXM6IDUwMiB9KTtcbiAgICB9XG5cbiAgICAvLyBUaGUgc3RydWN0dXJlZCBwcm9tcHQgc2hvdWxkIHByb3ZpZGUgYW5ub3RhdGlvbnMgZGlyZWN0bHlcbiAgICAvLyBCdXQga2VlcCBub3JtYWxpemF0aW9uIGFzIGZhbGxiYWNrIGZvciBlZGdlIGNhc2VzXG4gICAgaWYgKCFhbmFseXNpcy5hbm5vdGF0aW9ucyB8fCBhbmFseXNpcy5hbm5vdGF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGFuYWx5c2lzLmFubm90YXRpb25zID0gbm9ybWFsaXplQW5ub3RhdGlvbnMoYW5hbHlzaXMpO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBiYXNpYyBmaWVsZHMgYXJlIHByZXNlbnRcbiAgICBpZiAoIWFuYWx5c2lzLm92ZXJhbGxSaXNrKSB7XG4gICAgICBhbmFseXNpcy5vdmVyYWxsUmlzayA9IGFuYWx5c2lzLmFubm90YXRpb25zLmxlbmd0aCA+IDUgPyAnaGlnaCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmFseXNpcy5hbm5vdGF0aW9ucy5sZW5ndGggPiAyID8gJ21lZGl1bScgOiAnbG93JztcbiAgICB9XG4gICAgaWYgKCFhbmFseXNpcy5zdW1tYXJ5KSB7XG4gICAgICBhbmFseXNpcy5zdW1tYXJ5ID0gYCR7YW5hbHlzaXMuYW5ub3RhdGlvbnMubGVuZ3RofSByZWNodGxpY2hlIFByb2JsZW1lIGlkZW50aWZpemllcnQuYDtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhbmFseXNpcyB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDb250cmFjdCBhbmFseXNpcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gYW5hbHl6ZSBjb250cmFjdCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBPcHRpb25hbDogSGVhbHRoIGNoZWNrIGVuZHBvaW50XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGhhc0FwaUtleSA9ICEhcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdGF0dXM6ICdvcGVyYXRpb25hbCcsXG4gICAgICBjb25maWd1cmVkOiBoYXNBcGlLZXksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiAnU2VydmljZSBoZWFsdGggY2hlY2sgZmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJHcm9xIiwiZ3JvcSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHUk9RX0FQSV9LRVkiLCJTWVNURU1fUFJPTVBUIiwibm9ybWFsaXplQW5ub3RhdGlvbnMiLCJhbmFseXNpcyIsImFubm90YXRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidmVydHJhZ3NhbmFseXNlIiwia3JpdGlzY2hlX2hpbndlaXNlIiwiZm9yRWFjaCIsImhpbnQiLCJpIiwicHVzaCIsImlkIiwidHlwZSIsInNldmVyaXR5IiwiY29tbWVudCIsImV4cGxhbmF0aW9uIiwidGV4dCIsInN1YnN0cmluZyIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwicGFnZU51bWJlciIsImNvbmZpZGVuY2UiLCJyZWNodGxpY2hlX2Vpbm9yZG51bmciLCJhYmdyZW56dW5nX2FyYmVpdHN2ZXJ0cmFnIiwiYWIiLCJwcm9ibGVtIiwiZ2VmYWhyIiwibGVnYWxSZWZlcmVuY2UiLCJmZWhsZW5kZV9taW5kZXN0YW5nYWJlbiIsInBmbGljaHRhbmdhYmVuIiwiYW5nYWJlIiwic3RhdHVzIiwiY29tcGxpYW5jZV92ZXJzdG9lc3NlIiwiT2JqZWN0IiwiZW50cmllcyIsImtleSIsInZhbHVlIiwiaW5jbHVkZXMiLCJoaW53ZWlzIiwicmVjaHRsaWNoZV9tw6RuZ2VsIiwicm0iLCJzY2h3ZXJlZ3JhZCIsInRvTG93ZXJDYXNlIiwia2F0ZWdvcmllIiwiYmVzY2hyZWlidW5nIiwidGl0ZWwiLCJlcmzDpHV0ZXJ1bmciLCJkZXRhaWxzIiwicmVjaHRzZ3J1bmRsYWdlIiwiZ2VzZXR6IiwidW5kZWZpbmVkIiwiZmVobGVuZGVfa2xhdXNlbG4iLCJmayIsImtsYXVzZWwiLCJiZXJlaWNoIiwiZ3J1bmQiLCJrcml0aXNjaGVfcHVua3RlIiwia3AiLCJqb2luIiwiaW5kaXppZW4iLCJmb2xnZW4iLCJyZWNodHNncnVuZGxhZ2VuIiwiZmVobGVuZGVfcGZsaWNodGFuZ2FiZW4iLCJmcCIsImdlc2V0emxpY2hlX2FuZm9yZGVydW5nIiwid2VpdGVyZV9tw6RuZ2VsIiwid20iLCJiZXdlcnR1bmciLCJhbmFseXNlX2VyZ2VibmlzIiwic3VnZ2VzdGVkUmVwbGFjZW1lbnQiLCJlbXBmZWhsdW5nIiwiUE9TVCIsInJlcXVlc3QiLCJjb250ZW50IiwicGFnZXMiLCJuYW1lIiwianNvbiIsImVycm9yIiwidXNlclByb21wdCIsImNvbXBsZXRpb24iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtZXNzYWdlcyIsInJvbGUiLCJtb2RlbCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsInJlc3BvbnNlIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJjbGVhbiIsInRyaW0iLCJzdGFydHNXaXRoIiwicmVwbGFjZSIsIkpTT04iLCJwYXJzZSIsImUiLCJyYXciLCJvdmVyYWxsUmlzayIsInN1bW1hcnkiLCJjb25zb2xlIiwiR0VUIiwiaGFzQXBpS2V5IiwiY29uZmlndXJlZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/analyze-contract/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/groq-sdk","vendor-chunks/form-data-encoder","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/tr46","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/web-streams-polyfill","vendor-chunks/ms","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-contract%2Froute&page=%2Fapi%2Fanalyze-contract%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-contract%2Froute.ts&appDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaxhenkes%2FDesktop%2FLexChecker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();